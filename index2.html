<!DOCTYPE html>
<!-- saved from url=(0084)https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005 -->
<html lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript">
    (function() {
      var container = document.querySelector('#_tcx-dfmfv3nlqw');
      if (!container) {
        return;
      }

      var XHR = XMLHttpRequest.prototype;
      var send = XHR.send;
      var open = XHR.open;
      XHR.open = function(method, url) {
        this.url = url;
        return open.apply(this, arguments);
      };
      XHR.send = function() {
        this.addEventListener('load', function() {
          try {
            const response = this.response;
            if (response && response.length) {
              const firstChar = response[0];
              if (firstChar === '[' || firstChar === '{') {
                const wrapper = document.createElement('div');
                wrapper.setAttribute('data-tcx-url', this.url);
                wrapper.innerText = response;
                container.appendChild(wrapper);
              }
            }
          } catch (err) {
            // No-op.
          }
        });
        return send.apply(this, arguments);
      };
    })();
  </script><script async="" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/analytics.js"></script><script type="text/javascript" async="" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/ga.js"></script><script type="text/javascript" async="" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/ga.js"></script><script src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/analytics.js(1)" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app13.us.archive.org';v.server_ms=664;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/ait-client-rewrite.js" charset="utf-8"></script>
<script type="text/javascript">
WB_wombat_Init("https://web.archive.org/web/", "20171014222456", "masterpoppy.inspi.me");
</script>
<script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/wbhack.js" charset="utf-8"></script>
<script type="text/javascript">
__wbhack.init('https://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/iconochive.css">
<!-- End Wayback Rewrite JS Include -->
  <title>LSL-Web App...HTMLでHUDを開発する(2/3) | Mad Scripter's Lab @ inspi</title> <link rel="shortcut icon" href="https://web.archive.org/web/20171014222456im_/http://masterpoppy.inspi.me/wp-content/themes/platformpro_dev/admin/images/favicon-pagelines.ico" type="image/x-icon"> <link rel="profile" href="http://gmpg.org/xfn/11"> <link rel="dns-prefetch" href="https://web.archive.org/web/20171014222456/http://s.w.org/"> <link rel="alternate" type="application/rss+xml" title="Mad Scripter&#39;s Lab @ inspi » フィード" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/feed"> <link rel="alternate" type="application/rss+xml" title="Mad Scripter&#39;s Lab @ inspi » コメントフィード" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/comments/feed"> <link rel="alternate" type="application/rss+xml" title="Mad Scripter&#39;s Lab @ inspi » LSL-Web App…HTMLでHUDを開発する(2/3) のコメントのフィード" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005/feed"> <link rel="https://api.w.org/" href="http://masterpoppy.inspi.me/wp-json/"> <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://masterpoppy.inspi.me/xmlrpc.php?rsd"> <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://masterpoppy.inspi.me/wp-includes/wlwmanifest.xml"> <link rel="prev" title="LSL-Web App…HTMLでHUDを開発する(1/3)" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1003"> <link rel="next" title="LSL-Web App…HTMLでHUDを開発する(3/3) lsl-markdownの紹介" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1007"> <link rel="shortlink" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/?p=1005"> <link rel="alternate" type="application/json+oembed" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fmasterpoppy.inspi.me%2Farchives%2F1005"> <link rel="alternate" type="text/xml+oembed" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fmasterpoppy.inspi.me%2Farchives%2F1005&amp;format=xml"> <link rel="canonical" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005"> <meta name="description" content="このエントリーはセカンドライフ技術系 Advent Calendar 2016の参加記事です。 http://www.adventar.org/calendars/1673 前回に引き続き、HTMLでHUDを開発する手法の解説をします。 jquery使ったAjaxとLSLでロングポーリング(c..."> <meta name="google-site-verification" content="ShocgonYlShlHZbVG44JZK4oyVab2Z7XOvzwPgugMQM"> <meta name="msvalidate.01" content="B98A972EAC20F49C24F6D94FD28FFAA5"> <link rel="stylesheet" type="text/css" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shCore.css"><link rel="stylesheet" type="text/css" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/f84aedcec0c43b737184236d278448e5-compressor-part.css" media="all"> <!--[if IE 7]>
<link rel='stylesheet' id='ie7-style-css'  href='http://masterpoppy.inspi.me/wp-content/themes/platformpro/css/ie7.css?ver=1.5.3' type='text/css' media='all' />
<![endif]--> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/327e52d74cbc62acdb040686dfea4e50-compressor-part.css" media="all"> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/42350d1b9ecea3936e43f71ff8f6b2f9-compressor-part.css" media="screen"> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/3277578f91c0afa6bdf5ae3ae9f14902-compressor-part.css" media="all"> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/3278b6ba956e917349e18b71138500cf-compressor-part.css" media="screen"> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/dfffcb3f629606f3df04d506f4da8efa-compressor-part.css" media="all"> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/c2c2bb609ee2747a26cca63dab3753d9-compressor-part.css" media="print"> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/3f9e39c0f5a50860dcc6494d02afbef0-compressor-part.css" media="screen"> <link type="text/css" rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/b690fea58dcdfca0dd797caa1c69ab53-compressor-part.css" media="all"> <!--[if lt IE 8]> <script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE8.js"></script> <![endif]--> <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-10700788-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://web.archive.org/web/20171014222456/https://ssl/' : 'https://web.archive.org/web/20171014222456/http://www/') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/4e5bb06590f91f015feda8f99a7f6da9-compressor-part.js"></script> <script type="text/javascript">
				var _gaq = _gaq || [];

									_gaq.push(['_setAccount', 'UA-26362892-1']);
																		_gaq.push(['_setDomainName', 'none']);
							_gaq.push(['_setAllowLinker', true]);
												_gaq.push(['_setAllowHash', false]);
					                                        					_gaq.push(['_trackPageview']);


				(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                				    ga.src = ('https:' == document.location.protocol ? 'https://web.archive.org/web/20171014222456/https://ssl/' : 'https://web.archive.org/web/20171014222456/http://www/') + '.google-analytics.com/ga.js';
                				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
				})();
			</script> <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//web.archive.org/web/20171014222456/http://www.google-analytics.com/analytics.js','gaplusu');


                                    gaplusu('create', 'UA-10700788-3', 'auto', {'name': 'single'});

                                            gaplusu('single.set', 'anonymizeIp', true);

                    gaplusu('single.send', 'pageview');
                            </script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/3774a467274ee29ab85342ea34875ad3-compressor-part.js"></script> </head> <body class="post-template-default single single-post postid-1005 single-format-standard admin-bar no-customize-support canvas buddypress ttype-single tmain-single no-js"><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/timestamp.js" charset="utf-8"></script>
<script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/graph-calc.js" charset="utf-8"></script>
<script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/auto-complete.js" charset="utf-8"></script>
<script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/toolbar.js" charset="utf-8"></script>
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<div id="wm-ipp-base" lang="en" style="display: block; direction: ltr;">
</div><script type="text/javascript">
__wm.bt(600,27,25,2,"web","http://masterpoppy.inspi.me/archives/1005","2017-10-14",1996,"/_static/",['css/banner-styles.css','css/iconochive.css']);
</script><div class="wb-autocomplete-suggestions "></div>
<!-- END WAYBACK TOOLBAR INSERT --> <div id="site" class="one-sidebar-left"> <div id="page"> <div id="page-canvas"> <div id="header" class="container-group fix"> <div class="outline"> <div id="branding" class="container fix"> <div class="texture"> <div class="content"> <div class="content-pad"> <div class="branding_wrap"> <div class="title-container"><a class="home site-title" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/" title="Home">Mad Scripter's Lab @ inspi</a><h6 class="site-description subhead">しがないスクリプト屋さんのブログ</h6></div> <div class="icons" style="bottom: 21px; right: 1px;"> <a target="_blank" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/feed" class="rsslink"></a> <a target="_blank" href="https://web.archive.org/web/20171014222456/https://twitter.com/#!/MasterPoppy" class="twitterlink"></a> <a target="_blank" href="https://web.archive.org/web/20171014222456/http://www.youtube.com/user/MasterPoppyAmat" class="youtubelink"></a> </div> </div> <div class="clear"></div> </div> </div> </div> </div> <div id="primary-nav" class="container fix"> <div class="texture"> <div class="content"> <div class="content-pad"> <div id="nav_row" class="main_nav fix"> <ul id="menu-nav" class="main-nav sf-menu"> <li class="page_item page-item-6 page_item_has_children"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/about">筆者について</a> <ul class="children"> <li class="page_item page-item-75"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/about/club-mk">Club MK</a></li> <li class="page_item page-item-79"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/about/customwork">スクリプトのオーダーについて</a></li> </ul> </li> <li class="page_item page-item-577"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/kokuban">MessageBoard For Japanese</a></li> <li class="page_item page-item-131"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/viewer3%e5%85%a5%e9%96%80">Viewer3入門</a></li> </ul><form method="get" class="searchform" action="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/" onsubmit="this.submit();return false;"> <fieldset> <input type="text" value="Search" name="s" class="searchfield" onfocus="if (this.value == &#39;Search&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Search&#39;;}"> <input type="image" class="submit btn" name="submit" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/search-btn.png" alt="Go"> </fieldset> </form> </div> <div class="clear"></div> </div> </div> </div> </div> <div id="secondnav" class="container fix"> <div class="texture"> <div class="content"> <div class="content-pad"> <div class="clear"></div> </div> </div> </div> </div> </div> </div> <div id="page-main" class="container-group fix"> <div id="dynamic-content" class="outline fix"> <div id="maincontent" class="container fix"> <div class="texture"> <div class="content"> <div class="content-pad"> <div id="pagelines_content" class="one-sidebar-left fix"> <div id="column-wrap" class="fix"> <div id="column-main" class="mcolumn fix"> <div class="mcolumn-pad"> <div id="postnav" class="copy fix"> <div class="copy-pad"> <div class="post-nav fix"> <span class="previous"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1003" rel="prev">LSL-Web App…HTMLでHUDを開発する(1/3)</a></span> <span class="next"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1007" rel="next">LSL-Web App…HTMLでHUDを開発する(3/3) lsl-markdownの紹介</a></span> </div> <div class="clear"></div> </div> </div> <div id="theloop" class="copy fix"> <div class="copy-pad"> <div class="fpost post-1005 post type-post status-publish format-standard hentry category-lsl category-sl" id="post-1005"> <div class="post-meta fix"> <div class="post-header fix post-nothumb" style=""> <div class="post-title-section fix"> <div class="post-title fix"> <h1 class="entry-title">LSL-Web App…HTMLでHUDを開発する(2/3)</h1> <div class="metabar"><em><span class="sword">By</span> <span class="author vcard"><span class="fn"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/author/masterpoppy_amat" title="MasterPoppy の投稿" rel="author">MasterPoppy</a></span></span> <span class="sword">On</span> <span class="date time published" title="2016-12-22T00:55:07+0000">2016-12-22</span> · <span class="post-comments"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005#respond">Leave a Comment</a></span> </em></div> </div> </div> </div> </div> <div class="entry_wrap fix"> <div class="entry_content"> <p><img class="alignnone size-medium wp-image-1085 aligncenter" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/html_css_javascript_and_the_awesome_jquery_infographic_header-512x353.png" alt="html_css_javascript_and_the_awesome_jquery_infographic_header" width="512" height="353" srcset="media-hud2/html_css_javascript_and_the_awesome_jquery_infographic_header-512x353.png 512w, media-hud2/html_css_javascript_and_the_awesome_jquery_infographic_header-768x529.png 768w, media-hud2/html_css_javascript_and_the_awesome_jquery_infographic_header.png 772w" sizes="(max-width: 512px) 100vw, 512px"></p> <p>このエントリーはセカンドライフ技術系 Advent Calendar 2016の参加記事です。<br> <a href="https://web.archive.org/web/20171014222456/http://www.adventar.org/calendars/1673" target="_blank">http://www.adventar.org/calendars/1673</a></p> <p>前回に引き続き、HTMLでHUDを開発する手法の解説をします。<br> jquery使ったAjaxとLSLでロングポーリング(comet)を実装する方法とGUIフレームワークに主眼をおいたより実用的な作例を紹介します。</p> <h2>LSLでチャットアプリを作る</h2> <p>お題としてチャットアプリ風のHUDを作ることにします。 チャットアプリとしての機能を満たすには、クライアントからHTTPリクエストを送信し、サーバーからのレスポンスにチャットログのデータをのせて送り返し、受け取ったデータをクライアントアプリが画面に書き込むように実装します。 チャットサーバとして、簡単のためにSLのローカルチャットを使うことにします。 さらに、サーバーに書き込まれた発言をすべてクライアントに拾い上げる必要がありますが、それをLSLとjavascriptで実装する方法について様々な方法があるので紹介しようと思います。 サンプルコードでは簡単のためにSLのローカルチャットListenで拾うことでチャットサーバとして使うことにします。<span id="more-1005"></span></p> <h3>古典的なポーリング方法での実装</h3> <p>Webブラウザで動作するチャットアプリが登場したときから用いられていシンプルな方法で、タイマーをつかって一定時間ごとにページをリロードし、毎回すべてのチャットログをサーバーから取得します。 この方法でチャットクライアントを実装する場合は&lt;frame&gt;や&lt;iframe&gt;で分割した領域内にチャットログを表示した部分のみをページリロードするデザインが多く見られます。<br> 設定した更新インターバルでページをリロードし続けるため、リロードのたびにページが白くなって待機状態になる・毎回１つのリクエストに過去分も含めてすべてのデータが含まれていて無駄がおおい・更新インターバルを上げるとサーバー負荷が増大する、などデメリットがおおいため最近では実用的なアプリにはほぼ使われなくなりました。</p> <p><a href="media-hud2/pauling-method1.PNG" target="_blank"><img class="wp-image-1162 size-medium alignnone" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/pauling-method1.PNG" alt="pauling-method1"512" height="384" srcset="media-hud2/pauling-method1.PNG 512w, media-hud2/pauling-method1.PNG 768w, media-hud2/pauling-method1.PNG 960w" sizes="(max-width: 512px) 100vw, 512px"></a></p> <h3>Ajaxによるポーリング方法での実装</h3> <p>Ajaxを用いて非同期通信とダイナミックHTMLによるDOM操作でページ遷移せずに画面の要素を部分的に追加したり書き換えする方式で、フロントエンド部分は非常に使いやすくなります。ただしバックグラウンドでは一定時間おきにリクエストを送信するので、1回当たりに取得するデータを更新分だけに絞るように実装するなど比較的減らすことはできるものの、サーバーへのアクセス回数およびそれによるサーバーへの負荷という意味では古典的なポーリング方法と大きな差はありません。</p> <p><a href="media-hud2/pauling-method2-1.PNG"><img class="alignnone wp-image-1286 size-medium" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/pauling-method2-1.PNG" width="512" height="384" srcset="media-hud2/pauling-method2-1.PNG 512w, media-hud2/pauling-method2-1.PNG 768w, media-hud2/pauling-method2-1.PNG 960w" sizes="(max-width: 512px) 100vw, 512px"></a></p> <h3>Cometでの実装</h3> <p>上述のAjaxによるポーリング方法に対してさらに、サーバーとの送受信のタイミングを最適化して必要最小限のリクエスト回数になるように設計された方法です。 サーバーがクライアントからリクエストを受け取ったら、すぐにレスポンスをするのではなくそのIDを保持して待機し、データの更新があったら即座にクライアントに送ります。 こうすることで通信回数を必要最小限におさえて、かつサーバーのチャットログが更新されてすぐに画面を更新するので、アプリケーションとして非常に高い応答性を得られます。 この方法はCometと呼ばれ、Ajaxによる非同期通信とロングポーリングを組み合わせて実現する疑似Pushの１つです。 実質的にHTTP Pushが使えないLSLで実装できる疑似Pushのなかでは最も効率の良い方法だと考えられます。 厳密な意味でのCometではデータが更新されるまでレスポンスを保留しますが、LSLの場合HTTPリクエストのIDが25秒間でタイムアウトする仕様となっていますので、データの更新がなかった場合は25秒ごとに再リクエストを送るという実装になります。 この再リクエストの処理はタイマーを使わなくてもリクエストのFailを検知して再帰処理することで継続的に動作ことができます。 このCometの方式でチャットアプリのスクリプトを作成します。</p> <h2><a href="media-hud2/pauling-method3-1.PNG"><img class="alignnone wp-image-1287 size-medium" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/pauling-method3-1.PNG" width="512" height="384" srcset="media-hud2/pauling-method3-1.PNG 512w, media-hud2/pauling-method3-1.PNG 768w, media-hud2/pauling-method3-1.PNG 960w" sizes="(max-width: 512px) 100vw, 512px"><br> </a></h2> <h2>Comet方式のチャットアプリスクリプトの基本形</h2> <p>jqueryのajax()と、LSLのhttp_requestを使ったCometの実装サンプルです。 http_requestで受け取ったquery_idをグローバル変数に保持してlistenでllHTTPResponseを返すために再利用するだけなので、説明がおおげさなわりにはLSL側の実装は大したことはありません。</p> <div class="oembed-gist"><script src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/f6a8c62932cec497d6af0d4d4c619f8e.js"></script><link rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist42743541" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-basic-comet-lsl" class="file">


  <div itemprop="text" class="blob-wrapper data type-lsl ">

<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-basic-comet-lsl-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-basic-comet-lsl-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>***********************</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-basic-comet-lsl-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>Basic Comet</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-basic-comet-lsl-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>2016-12-10 MasterPoppy</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-basic-comet-lsl-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>***********************</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-basic-comet-lsl-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">string</span> <span class="pl-smi">html</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;!DOCTYPE html&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-basic-comet-lsl-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;html&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-basic-comet-lsl-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-s"></span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-basic-comet-lsl-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;head&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-basic-comet-lsl-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-s">    &lt;meta charset='UTF-8'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-basic-comet-lsl-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-s">    &lt;script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'&gt;&lt;/script&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-basic-comet-lsl-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-s">    &lt;style type='text/css'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-basic-comet-lsl-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        body {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-basic-comet-lsl-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            font-family: helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-basic-comet-lsl-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            zoom: 120%;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-basic-comet-lsl-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        }</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-basic-comet-lsl-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        h1,p{</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-basic-comet-lsl-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            padding: 8px;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-basic-comet-lsl-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            margin: 0;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-basic-comet-lsl-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        }</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-basic-comet-lsl-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        /*1行おきに背景色を変えて見やすくする*/</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-basic-comet-lsl-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        p:nth-child(even) {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-basic-comet-lsl-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            background-color: #EEEEEE;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-basic-comet-lsl-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        }</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-basic-comet-lsl-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-s">    &lt;/style&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-basic-comet-lsl-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-s">    &lt;script&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-basic-comet-lsl-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        //ページ読み込みでリクエスト開始</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-basic-comet-lsl-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        $(document).ready(function() {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-basic-comet-lsl-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            request();</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-basic-comet-lsl-LC29" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        }, false);</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-basic-comet-lsl-LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        //リクエスト処理</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-basic-comet-lsl-LC31" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        function request() {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-basic-comet-lsl-LC32" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            $.ajax({</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-basic-comet-lsl-LC33" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                'type': 'POST',</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-basic-comet-lsl-LC34" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                'url': location.href</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-basic-comet-lsl-LC35" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            }).done(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-basic-comet-lsl-LC36" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                // 新しく取得した発言を書き込み</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-basic-comet-lsl-LC37" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                $('body').append('&lt;p&gt;' + data + '&lt;/p&gt;');</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-basic-comet-lsl-LC38" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                // 下までスクロール</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-basic-comet-lsl-LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                scrollbottom();</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-basic-comet-lsl-LC40" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                // 再帰呼び出し</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-basic-comet-lsl-LC41" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                request();</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-basic-comet-lsl-LC42" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            }).fail(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-basic-comet-lsl-LC43" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                if (data.status == 504) {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-basic-comet-lsl-LC44" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                    // 504 : Gateway Timeout, タイムアウトしたら再リクエスト</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-basic-comet-lsl-LC45" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                    request();</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-basic-comet-lsl-LC46" class="blob-code blob-code-inner js-file-line"><span class="pl-s">                }</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-basic-comet-lsl-LC47" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            });</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-basic-comet-lsl-LC48" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        }</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-basic-comet-lsl-LC49" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        // ページの最下部までスクロールするユーザ関数</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-basic-comet-lsl-LC50" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        function scrollbottom() {</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-basic-comet-lsl-LC51" class="blob-code blob-code-inner js-file-line"><span class="pl-s">            $('body').scrollTop($('body').scrollTop() + $('body').height());</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-basic-comet-lsl-LC52" class="blob-code blob-code-inner js-file-line"><span class="pl-s">        }</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-basic-comet-lsl-LC53" class="blob-code blob-code-inner js-file-line"><span class="pl-s">    &lt;/script&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-basic-comet-lsl-LC54" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/head&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-basic-comet-lsl-LC55" class="blob-code blob-code-inner js-file-line"><span class="pl-s"></span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-basic-comet-lsl-LC56" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;body&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-basic-comet-lsl-LC57" class="blob-code blob-code-inner js-file-line"><span class="pl-s">    &lt;h1&gt;Basic Comet&lt;/h1&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-basic-comet-lsl-LC58" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/body&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-basic-comet-lsl-LC59" class="blob-code blob-code-inner js-file-line"><span class="pl-s"></span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-basic-comet-lsl-LC60" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/html&gt;</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-basic-comet-lsl-LC61" class="blob-code blob-code-inner js-file-line"><span class="pl-s"><span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-basic-comet-lsl-LC62" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-basic-comet-lsl-LC63" class="blob-code blob-code-inner js-file-line"><span class="pl-k">key</span> <span class="pl-smi">query_id</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-basic-comet-lsl-LC64" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">status</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-basic-comet-lsl-LC65" class="blob-code blob-code-inner js-file-line"><span class="pl-k">key</span> <span class="pl-smi">request</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-basic-comet-lsl-LC66" class="blob-code blob-code-inner js-file-line"><span class="pl-k">string</span> <span class="pl-smi">URI</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-basic-comet-lsl-LC67" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">handle</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-basic-comet-lsl-LC68" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">render_face</span> <span class="pl-k">=</span> <span class="pl-c1">4</span>; <span class="pl-c"><span class="pl-c">//</span>-X</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-basic-comet-lsl-LC69" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-basic-comet-lsl-LC70" class="blob-code blob-code-inner js-file-line"><span class="pl-en">check_memory</span>()</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-basic-comet-lsl-LC71" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-basic-comet-lsl-LC72" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">float</span> <span class="pl-smi">freememory</span> <span class="pl-k">=</span> <span class="pl-c1">llGetFreeMemory</span>()<span class="pl-k">/</span><span class="pl-c1">1024.0</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-basic-comet-lsl-LC73" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">llOwnerSay</span>(<span class="pl-s"><span class="pl-pds">"</span>freememory = <span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">freememory</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">"</span> / 64 kbyte<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-basic-comet-lsl-LC74" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-basic-comet-lsl-LC75" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-basic-comet-lsl-LC76" class="blob-code blob-code-inner js-file-line"><span class="pl-k">string</span> <span class="pl-en">ConvertWallclockToTime</span>()</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-basic-comet-lsl-LC77" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-basic-comet-lsl-LC78" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">now</span> <span class="pl-k">=</span> (<span class="pl-k">integer</span>)<span class="pl-c1">llGetWallclock</span>();</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-basic-comet-lsl-LC79" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">seconds</span> <span class="pl-k">=</span> <span class="pl-smi">now</span> <span class="pl-k">%</span> <span class="pl-c1">60</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-basic-comet-lsl-LC80" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">minutes</span> <span class="pl-k">=</span> (<span class="pl-smi">now</span> <span class="pl-k">/</span> <span class="pl-c1">60</span>) <span class="pl-k">%</span> <span class="pl-c1">60</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-basic-comet-lsl-LC81" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">hours</span> <span class="pl-k">=</span> <span class="pl-smi">now</span> <span class="pl-k">/</span> <span class="pl-c1">3600</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-basic-comet-lsl-LC82" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-c1">llGetSubString</span>(<span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">hours</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>:<span class="pl-pds">"</span></span> </td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-basic-comet-lsl-LC83" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">+</span> <span class="pl-c1">llGetSubString</span>(<span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">minutes</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>:<span class="pl-pds">"</span></span> </td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-basic-comet-lsl-LC84" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">+</span> <span class="pl-c1">llGetSubString</span>(<span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">seconds</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-basic-comet-lsl-LC85" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-basic-comet-lsl-LC86" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-basic-comet-lsl-LC87" class="blob-code blob-code-inner js-file-line"><span class="pl-k">default</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-basic-comet-lsl-LC88" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-basic-comet-lsl-LC89" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">state_entry</span>()</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-basic-comet-lsl-LC90" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-basic-comet-lsl-LC91" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">llReleaseURL</span>(<span class="pl-smi">URI</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-basic-comet-lsl-LC92" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-c1">llRequestURL</span>();</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-basic-comet-lsl-LC93" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span>check_memory();</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-basic-comet-lsl-LC94" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-basic-comet-lsl-LC95" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-basic-comet-lsl-LC96" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">changed</span>(<span class="pl-k">integer</span> <span class="pl-smi">change</span>)</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-basic-comet-lsl-LC97" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-basic-comet-lsl-LC98" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(<span class="pl-smi">change</span> <span class="pl-k">&amp;</span> <span class="pl-c1">CHANGED_REGION</span> <span class="pl-k">||</span> <span class="pl-smi">change</span> <span class="pl-k">&amp;</span> <span class="pl-c1">CHANGED_REGION_START</span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-basic-comet-lsl-LC99" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">llReleaseURL</span>(<span class="pl-smi">URI</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-basic-comet-lsl-LC100" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-c1">llRequestURL</span>();</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-basic-comet-lsl-LC101" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-basic-comet-lsl-LC102" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-basic-comet-lsl-LC103" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-basic-comet-lsl-LC104" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">attach</span>(<span class="pl-k">key</span> <span class="pl-smi">id</span>)</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-basic-comet-lsl-LC105" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-basic-comet-lsl-LC106" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(<span class="pl-smi">id</span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-basic-comet-lsl-LC107" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">llReleaseURL</span>(<span class="pl-smi">URI</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-basic-comet-lsl-LC108" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-c1">llRequestURL</span>();</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-basic-comet-lsl-LC109" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-basic-comet-lsl-LC110" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-basic-comet-lsl-LC111" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-basic-comet-lsl-LC112" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">http_request</span>(<span class="pl-k">key</span> <span class="pl-smi">id</span>, <span class="pl-k">string</span> <span class="pl-smi">method</span>, <span class="pl-k">string</span> <span class="pl-smi">body</span>)</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-basic-comet-lsl-LC113" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-basic-comet-lsl-LC114" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">key</span> <span class="pl-smi">owner</span> <span class="pl-k">=</span> <span class="pl-c1">llGetOwner</span>();</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-basic-comet-lsl-LC115" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-basic-comet-lsl-LC116" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (<span class="pl-smi">request</span> <span class="pl-k">==</span> <span class="pl-smi">id</span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-basic-comet-lsl-LC117" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-basic-comet-lsl-LC118" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">method</span> <span class="pl-k">==</span> <span class="pl-c1">URL_REQUEST_GRANTED</span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-basic-comet-lsl-LC119" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">URI</span> <span class="pl-k">=</span> <span class="pl-smi">body</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-basic-comet-lsl-LC120" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llClearPrimMedia</span>(<span class="pl-smi">render_face</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-basic-comet-lsl-LC121" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">status</span> <span class="pl-k">=</span> <span class="pl-c1">llSetLinkMedia</span>(<span class="pl-c1">LINK_THIS</span>, <span class="pl-smi">render_face</span>, [</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-basic-comet-lsl-LC122" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_HOME_URL</span>, <span class="pl-smi">URI</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-basic-comet-lsl-LC123" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_CURRENT_URL</span>, <span class="pl-smi">URI</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-basic-comet-lsl-LC124" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_AUTO_ZOOM</span>, <span class="pl-c1">FALSE</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="file-basic-comet-lsl-LC125" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_AUTO_PLAY</span>, <span class="pl-c1">TRUE</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="file-basic-comet-lsl-LC126" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_AUTO_SCALE</span>, <span class="pl-c1">FALSE</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="file-basic-comet-lsl-LC127" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_WIDTH_PIXELS</span>, <span class="pl-c1">1024.0</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="file-basic-comet-lsl-LC128" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_HEIGHT_PIXELS</span>, <span class="pl-c1">1024.0</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="file-basic-comet-lsl-LC129" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_PERMS_INTERACT</span>, <span class="pl-c1">PRIM_MEDIA_PERM_NONE</span>,</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="file-basic-comet-lsl-LC130" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_PERMS_CONTROL</span>, <span class="pl-c1">PRIM_MEDIA_PERM_NONE</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="file-basic-comet-lsl-LC131" class="blob-code blob-code-inner js-file-line">                ]);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="file-basic-comet-lsl-LC132" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="file-basic-comet-lsl-LC133" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="file-basic-comet-lsl-LC134" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="file-basic-comet-lsl-LC135" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span>(<span class="pl-smi">method</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="file-basic-comet-lsl-LC136" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llSetContentType</span>(<span class="pl-smi">id</span>, <span class="pl-c1">CONTENT_TYPE_HTML</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="file-basic-comet-lsl-LC137" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llHTTPResponse</span>(<span class="pl-smi">id</span>, <span class="pl-c1">200</span>, <span class="pl-smi">html</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="file-basic-comet-lsl-LC138" class="blob-code blob-code-inner js-file-line">                <span class="pl-c"><span class="pl-c">//</span>ページを表示したらListenを開く</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="file-basic-comet-lsl-LC139" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llListenRemove</span>(<span class="pl-smi">handle</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="file-basic-comet-lsl-LC140" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">handle</span> <span class="pl-k">=</span> <span class="pl-c1">llListen</span>(<span class="pl-c1">0</span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-c1">NULL_KEY</span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="file-basic-comet-lsl-LC141" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="file-basic-comet-lsl-LC142" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">method</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>POST<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="file-basic-comet-lsl-LC143" class="blob-code blob-code-inner js-file-line">                <span class="pl-c"><span class="pl-c">//</span>グローバル変数にhttp requestのIDを保持する(*)</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="file-basic-comet-lsl-LC144" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">query_id</span> <span class="pl-k">=</span> <span class="pl-smi">id</span>;</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="file-basic-comet-lsl-LC145" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="file-basic-comet-lsl-LC146" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="file-basic-comet-lsl-LC147" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="file-basic-comet-lsl-LC148" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="file-basic-comet-lsl-LC149" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">listen</span>(<span class="pl-k">integer</span> <span class="pl-smi">channel</span>, <span class="pl-k">string</span> <span class="pl-smi">name</span>, <span class="pl-k">key</span> <span class="pl-smi">id</span>, <span class="pl-k">string</span> <span class="pl-smi">message</span>)</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="file-basic-comet-lsl-LC150" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="file-basic-comet-lsl-LC151" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(<span class="pl-smi">query_id</span> <span class="pl-k">!=</span> <span class="pl-c1">NULL_KEY</span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="file-basic-comet-lsl-LC152" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">name</span> <span class="pl-k">=</span> <span class="pl-c1">llGetDisplayName</span>(<span class="pl-smi">id</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="file-basic-comet-lsl-LC153" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span>(<span class="pl-smi">name</span> <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="file-basic-comet-lsl-LC154" class="blob-code blob-code-inner js-file-line">                <span class="pl-c"><span class="pl-c">//</span>保持しておいたHTTP requestのID向けにResponseする(*)</span></td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="file-basic-comet-lsl-LC155" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llSetContentType</span>(<span class="pl-smi">query_id</span>, <span class="pl-c1">CONTENT_TYPE_TEXT</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="file-basic-comet-lsl-LC156" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llHTTPResponse</span>(<span class="pl-smi">query_id</span>, <span class="pl-c1">200</span>, <span class="pl-en">ConvertWallclockToTime</span>() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> [<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">name</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>] <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">message</span>);</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="file-basic-comet-lsl-LC157" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="file-basic-comet-lsl-LC158" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="file-basic-comet-lsl-LC159" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-basic-comet-lsl-L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="file-basic-comet-lsl-LC160" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/masterpoppy/f6a8c62932cec497d6af0d4d4c619f8e/raw/9e84bf785db30ae142c775f846aad8b12a3b8722/Basic%20Comet.lsl" style="float:right">view raw</a>
        <a href="https://gist.github.com/masterpoppy/f6a8c62932cec497d6af0d4d4c619f8e#file-basic-comet-lsl">Basic Comet.lsl</a>
        hosted with ❤ by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<noscript>View the code on <a href="https://gist.github.com/masterpoppy/f6a8c62932cec497d6af0d4d4c619f8e">Gist</a>.</noscript></div> <p>実行すると以下のような表示になります。 (クリックで元サイズのGIFアニメを表示します)<br> チャットで発言した内容がすぐにHUDにも反映されているのがわかるかとおもいます。<br> ぜひご自分でもスクリプトをコピーして実験してみてください。<br> ※BOXで0.85メートル角のHUDを作成して、このままスクリプトエディターに貼り付けてください。</p> <p><a href="media-hud2/Basic-Comet.gif" target="_blank"><img class="alignnone wp-image-1194 size-medium" src="media-hud2/Basic-Comet.gif" alt="basic-comet" width="512" height="449" srcset="media-hud2/Basic-Comet.gif 512w, media-hud2/Basic-Comet.gif 768w, media-hud2/Basic-Comet.gif 1024w" sizes="(max-width: 512px) 100vw, 512px"><br> </a></p> <p style="text-align: center;">実行結果(クリックでGIFアニメを表示します)</p> <p>&nbsp;</p> <h2>せっかくなので見た目をアプリっぽくする</h2> <p>ネイティブなHTMLだけで作っているとどうしても見栄えがダサくなってしまうし、かっこよくしたくても自前でCSSを書いているとLSLの容量では足りなくなります。 そこでフレームワークをつかってお手軽におしゃれアプリにしてみます。 GUIフレームワークを使うと少ない行数でクールなアプリが作れます。 最近のフレームワークだとレスポンシブルデザインやモバイル環境に対応して</p> <p>今回はGUIフレームワークとしてsemantic-uiを使います。<br> <a href="https://web.archive.org/web/20171014222456/http://semantic-ui.com/" target="_blank">http://semantic-ui.com/</a></p> <p>リファレンスのページはここです。<br> <a href="https://web.archive.org/web/20171014222456/http://semantic-ui.com/introduction/getting-started.html" target="_blank">http://semantic-ui.com/introduction/getting-started.html</a></p> <p>HUDとしての用途を考えると、モバイル用のフレームワークも有効だとおもいます。 jquery ui, jquery ui mobile, webix, Material UIなど簡単にインタラクティブなUIをつくれる類似のフレームワークがたくさんあるのでお気に入りを探してみてください。</p> <p>お好みでログアウトなど各機能を設定するためのボタンを配置したら <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">‘</span>#id<span class="pl-pds">‘</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">‘</span>click<span class="pl-pds">‘</span></span>, <span class="pl-k">function</span>() {}のなかで<span class="pl-smi">$</span>.<span class="pl-en">ajax</span>({})をつかってhttp-inに押下したボタンの情報を送信し、LSL側で受け取ってdetachなどの処理を発火することもできます。</p> <ul> <li> <h3>HTML部分のコード</h3> <p>コードがながいため一旦HTML部分だけを抜き出して記載します。</p></li> </ul> <div class="oembed-gist"><script src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/6f876f272b22f5bbf3e5b7c987152fed.js"></script><link rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist42533816" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-sample-chat-app-html" class="file">


  <div itemprop="text" class="blob-wrapper data type-html ">

<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-sample-chat-app-html-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-sample-chat-app-html-LC1" class="blob-code blob-code-inner js-file-line">//********************************************</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-sample-chat-app-html-LC2" class="blob-code blob-code-inner js-file-line">//Sample Chat App (html part with comment)</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-sample-chat-app-html-LC3" class="blob-code blob-code-inner js-file-line">//2016-12-04 MasterPoppy</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-sample-chat-app-html-LC4" class="blob-code blob-code-inner js-file-line">//********************************************</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-sample-chat-app-html-LC5" class="blob-code blob-code-inner js-file-line">&lt;!DOCTYPE html&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-sample-chat-app-html-LC6" class="blob-code blob-code-inner js-file-line">&lt;<span class="pl-ent">html</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-sample-chat-app-html-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-sample-chat-app-html-LC8" class="blob-code blob-code-inner js-file-line">&lt;<span class="pl-ent">head</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-sample-chat-app-html-LC9" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">meta</span> <span class="pl-e">charset</span>=<span class="pl-s"><span class="pl-pds">'</span>UTF-8<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-sample-chat-app-html-LC10" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">title</span>&gt;Sample Chat App&lt;/<span class="pl-ent">title</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-sample-chat-app-html-LC11" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">'</span>https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-sample-chat-app-html-LC12" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">'</span>https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.js<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-sample-chat-app-html-LC13" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s"><span class="pl-pds">'</span>stylesheet<span class="pl-pds">'</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">'</span>text/css<span class="pl-pds">'</span></span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">'</span>https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.css<span class="pl-pds">'</span></span> /&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-sample-chat-app-html-LC14" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">style</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">'</span>text/css<span class="pl-pds">'</span></span>&gt;<span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-sample-chat-app-html-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-k">@import</span> <span class="pl-c1">url</span>(<span class="pl-v">http://fonts.googleapis.com/earlyaccess/notosansjp.css</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-sample-chat-app-html-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.ui</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-sample-chat-app-html-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.item</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-sample-chat-app-html-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-ent">input</span> {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-sample-chat-app-html-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c1"><span class="pl-c1">font-family</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Noto Sans JP<span class="pl-pds">'</span></span>, <span class="pl-c1">helvetica</span>, <span class="pl-c1">sans-serif</span>;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-sample-chat-app-html-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-sample-chat-app-html-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        </span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-sample-chat-app-html-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.ui</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-sample-chat-app-html-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.item</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-sample-chat-app-html-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.ui.header</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-sample-chat-app-html-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.ui.table</span> {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-sample-chat-app-html-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c1"><span class="pl-c1">font-size</span></span>: <span class="pl-c1">1.1<span class="pl-k">rem</span></span>;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-sample-chat-app-html-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c1"><span class="pl-c1">line-height</span></span>: <span class="pl-c1">1.5<span class="pl-k">rem</span></span>;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-sample-chat-app-html-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-sample-chat-app-html-LC29" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        </span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-sample-chat-app-html-LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.ui.container</span> {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-sample-chat-app-html-LC31" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c1"><span class="pl-c1">padding-top</span></span>: <span class="pl-c1">1<span class="pl-k">vh</span></span>;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-sample-chat-app-html-LC32" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c1"><span class="pl-c1">width</span></span>: <span class="pl-c1">calc</span>(<span class="pl-c1">100<span class="pl-k">%</span></span> <span class="pl-k">-</span> <span class="pl-c1">16<span class="pl-k">px</span></span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-sample-chat-app-html-LC33" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-sample-chat-app-html-LC34" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        </span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-sample-chat-app-html-LC35" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-e">.ui.middle.attached.segment</span> {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-sample-chat-app-html-LC36" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c1"><span class="pl-c1">height</span></span>: <span class="pl-c1">calc</span>(<span class="pl-c1">100<span class="pl-k">vh</span></span> <span class="pl-k">-</span> <span class="pl-c1">165<span class="pl-k">px</span></span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-sample-chat-app-html-LC37" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c1"><span class="pl-c1">overflow-y</span></span>: <span class="pl-c1">auto</span>;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-sample-chat-app-html-LC38" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-sample-chat-app-html-LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">    </span>&lt;/<span class="pl-ent">style</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-sample-chat-app-html-LC40" class="blob-code blob-code-inner js-file-line">&lt;/<span class="pl-ent">head</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-sample-chat-app-html-LC41" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-sample-chat-app-html-LC42" class="blob-code blob-code-inner js-file-line">&lt;<span class="pl-ent">body</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-sample-chat-app-html-LC43" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">&lt;!--</span> semantic-uiでチャットアプリのUIデザイン <span class="pl-c">--&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-sample-chat-app-html-LC44" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>main<span class="pl-pds">'</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui container<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-sample-chat-app-html-LC45" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>id-header<span class="pl-pds">'</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui top attached block header<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-sample-chat-app-html-LC46" class="blob-code blob-code-inner js-file-line">            Sample Chat App</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-sample-chat-app-html-LC47" class="blob-code blob-code-inner js-file-line">        &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-sample-chat-app-html-LC48" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui middle attached menu<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-sample-chat-app-html-LC49" class="blob-code blob-code-inner js-file-line">            &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>id-ch<span class="pl-pds">'</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>item<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-sample-chat-app-html-LC50" class="blob-code blob-code-inner js-file-line">                通信チャンネル xxx</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-sample-chat-app-html-LC51" class="blob-code blob-code-inner js-file-line">            &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-sample-chat-app-html-LC52" class="blob-code blob-code-inner js-file-line">            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>menu<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-sample-chat-app-html-LC53" class="blob-code blob-code-inner js-file-line">                &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>item<span class="pl-pds">'</span></span>&gt;&lt;<span class="pl-ent">i</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>user icon<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">i</span>&gt;USRNAME&lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-sample-chat-app-html-LC54" class="blob-code blob-code-inner js-file-line">            &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-sample-chat-app-html-LC55" class="blob-code blob-code-inner js-file-line">            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>right menu<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-sample-chat-app-html-LC56" class="blob-code blob-code-inner js-file-line">                &lt;<span class="pl-ent">a</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>id-logout<span class="pl-pds">'</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>item<span class="pl-pds">'</span></span>&gt;LOGOUT&lt;/<span class="pl-ent">a</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-sample-chat-app-html-LC57" class="blob-code blob-code-inner js-file-line">            &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-sample-chat-app-html-LC58" class="blob-code blob-code-inner js-file-line">        &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-sample-chat-app-html-LC59" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>log<span class="pl-pds">'</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui middle attached segment<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-sample-chat-app-html-LC60" class="blob-code blob-code-inner js-file-line">            &lt;<span class="pl-ent">table</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui celled padded table<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-sample-chat-app-html-LC61" class="blob-code blob-code-inner js-file-line">            &lt;/<span class="pl-ent">table</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-sample-chat-app-html-LC62" class="blob-code blob-code-inner js-file-line">        &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-sample-chat-app-html-LC63" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui bottom attached segment<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-sample-chat-app-html-LC64" class="blob-code blob-code-inner js-file-line">            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui fluid action input<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-sample-chat-app-html-LC65" class="blob-code blob-code-inner js-file-line">                &lt;<span class="pl-ent">input</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>id-input<span class="pl-pds">'</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">'</span>text<span class="pl-pds">'</span></span> <span class="pl-e">placeholder</span>=<span class="pl-s"><span class="pl-pds">'</span>・・・<span class="pl-pds">'</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-sample-chat-app-html-LC66" class="blob-code blob-code-inner js-file-line">                &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">'</span>id-enter<span class="pl-pds">'</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>ui button<span class="pl-pds">'</span></span>&gt;ENTER&lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-sample-chat-app-html-LC67" class="blob-code blob-code-inner js-file-line">            &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-sample-chat-app-html-LC68" class="blob-code blob-code-inner js-file-line">        &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-sample-chat-app-html-LC69" class="blob-code blob-code-inner js-file-line">    &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-sample-chat-app-html-LC70" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">&lt;!--</span> チャットアプリのUIデザインここまで<span class="pl-c">--&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-sample-chat-app-html-LC71" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">script</span>&gt;<span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-sample-chat-app-html-LC72" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-c"><span class="pl-c">//</span>http-inから通信チャンネルとユーザの名前を取得する</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-sample-chat-app-html-LC73" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-en">$</span>(<span class="pl-c1">document</span>).<span class="pl-en">ready</span>(<span class="pl-k">function</span>() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-sample-chat-app-html-LC74" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-smi">$</span>.<span class="pl-en">ajax</span>({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-sample-chat-app-html-LC75" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>POST<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-sample-chat-app-html-LC76" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-smi">location</span>.<span class="pl-c1">href</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-sample-chat-app-html-LC77" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>dataType<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>json<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-sample-chat-app-html-LC78" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>data<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>init<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-sample-chat-app-html-LC79" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>timeout<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">0</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-sample-chat-app-html-LC80" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }).<span class="pl-en">done</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-sample-chat-app-html-LC81" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#id-ch<span class="pl-pds">'</span></span>).<span class="pl-c1">text</span>(<span class="pl-s"><span class="pl-pds">'</span>通信チャンネル <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">data</span>.<span class="pl-smi">channel</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-sample-chat-app-html-LC82" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#username<span class="pl-pds">'</span></span>).<span class="pl-en">html</span>(<span class="pl-s"><span class="pl-pds">'</span>&lt;i&gt;&lt;/i&gt;<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">data</span>.<span class="pl-c1">name</span>).<span class="pl-en">children</span>().<span class="pl-en">addClass</span>(<span class="pl-s"><span class="pl-pds">'</span>user icon<span class="pl-pds">'</span></span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-sample-chat-app-html-LC83" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">log</span>(<span class="pl-smi">data</span>.<span class="pl-smi">timestamp</span>, <span class="pl-s"><span class="pl-pds">'</span>システムログ<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>チャンネル <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">data</span>.<span class="pl-smi">channel</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> で開始しました。 チャンネルは ObjectDesc で変更できます。<span class="pl-pds">'</span></span>, <span class="pl-c1">1</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-sample-chat-app-html-LC84" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-c"><span class="pl-c">//</span>http-inとのロングポーリングを開始 (ajax comet)</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-sample-chat-app-html-LC85" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">getchat</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-sample-chat-app-html-LC86" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }).<span class="pl-en">fail</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-sample-chat-app-html-LC87" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                end <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-sample-chat-app-html-LC88" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">log</span>(<span class="pl-en">gettimestamp</span>(), <span class="pl-s"><span class="pl-pds">'</span>ERROR(0)<span class="pl-pds">'</span></span>, <span class="pl-smi">data</span>.<span class="pl-c1">statusText</span>, <span class="pl-c1">2</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-sample-chat-app-html-LC89" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            });</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-sample-chat-app-html-LC90" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }, <span class="pl-c1">false</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-sample-chat-app-html-LC91" class="blob-code blob-code-inner js-file-line"><span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-sample-chat-app-html-LC92" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-k">function</span> <span class="pl-en">getchat</span>() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-sample-chat-app-html-LC93" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-smi">$</span>.<span class="pl-en">ajax</span>({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-sample-chat-app-html-LC94" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>POST<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-sample-chat-app-html-LC95" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-smi">location</span>.<span class="pl-c1">href</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-sample-chat-app-html-LC96" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>dataType<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>json<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-sample-chat-app-html-LC97" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>data<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>getchat<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-sample-chat-app-html-LC98" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>timeout<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">0</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-sample-chat-app-html-LC99" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }).<span class="pl-en">done</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-sample-chat-app-html-LC100" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">log</span>(<span class="pl-smi">data</span>.<span class="pl-smi">timestamp</span>, <span class="pl-smi">data</span>.<span class="pl-c1">name</span>, <span class="pl-smi">data</span>.<span class="pl-c1">body</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-sample-chat-app-html-LC101" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">scrollbottom</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-sample-chat-app-html-LC102" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-c"><span class="pl-c">//</span>再帰呼び出しでAjax Comentをループ</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-sample-chat-app-html-LC103" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">getchat</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-sample-chat-app-html-LC104" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }).<span class="pl-en">fail</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-sample-chat-app-html-LC105" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-k">if</span> (<span class="pl-smi">data</span>.<span class="pl-c1">status</span> <span class="pl-k">==</span> <span class="pl-c1">504</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-sample-chat-app-html-LC106" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-c"><span class="pl-c">//</span>タイムアウトしたら再リクエスト</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-sample-chat-app-html-LC107" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-en">getchat</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-sample-chat-app-html-LC108" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                } <span class="pl-k">else</span> {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-sample-chat-app-html-LC109" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    end <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-sample-chat-app-html-LC110" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-en">log</span>(<span class="pl-en">gettimestamp</span>(), <span class="pl-s"><span class="pl-pds">'</span>ERROR(1)<span class="pl-pds">'</span></span>, <span class="pl-smi">data</span>.<span class="pl-c1">statusText</span>, <span class="pl-c1">2</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-sample-chat-app-html-LC111" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-sample-chat-app-html-LC112" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            });</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-sample-chat-app-html-LC113" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-sample-chat-app-html-LC114" class="blob-code blob-code-inner js-file-line"><span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-sample-chat-app-html-LC115" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>.ui.button<span class="pl-pds">'</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>click<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-sample-chat-app-html-LC116" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">var</span> speech <span class="pl-k">=</span> <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#id-input<span class="pl-pds">'</span></span>).<span class="pl-en">val</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-sample-chat-app-html-LC117" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">if</span> (speech <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-sample-chat-app-html-LC118" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#id-input<span class="pl-pds">'</span></span>).<span class="pl-en">val</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-sample-chat-app-html-LC119" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-smi">$</span>.<span class="pl-en">ajax</span>({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-sample-chat-app-html-LC120" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>POST<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-sample-chat-app-html-LC121" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-smi">location</span>.<span class="pl-c1">href</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-sample-chat-app-html-LC122" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>dataType<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>json<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-sample-chat-app-html-LC123" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>data<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">stringify</span>({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-sample-chat-app-html-LC124" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                        <span class="pl-s"><span class="pl-pds">'</span>speech<span class="pl-pds">'</span></span><span class="pl-k">:</span> speech</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="file-sample-chat-app-html-LC125" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    })</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="file-sample-chat-app-html-LC126" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                }).<span class="pl-en">done</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="file-sample-chat-app-html-LC127" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-en">log</span>(<span class="pl-smi">data</span>.<span class="pl-smi">timestamp</span>, <span class="pl-smi">data</span>.<span class="pl-c1">name</span>, <span class="pl-smi">data</span>.<span class="pl-c1">body</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="file-sample-chat-app-html-LC128" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-en">scrollbottom</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="file-sample-chat-app-html-LC129" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                }).<span class="pl-en">fail</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="file-sample-chat-app-html-LC130" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-en">log</span>(<span class="pl-en">gettimestamp</span>(), <span class="pl-s"><span class="pl-pds">'</span>ERROR(2)<span class="pl-pds">'</span></span>, <span class="pl-smi">data</span>.<span class="pl-c1">statusText</span>, <span class="pl-c1">2</span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="file-sample-chat-app-html-LC131" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-en">scrollbottom</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="file-sample-chat-app-html-LC132" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                });</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="file-sample-chat-app-html-LC133" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="file-sample-chat-app-html-LC134" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        });</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="file-sample-chat-app-html-LC135" class="blob-code blob-code-inner js-file-line"><span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="file-sample-chat-app-html-LC136" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-c"><span class="pl-c">//</span>キーボードのEnterで発言できるようにする</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="file-sample-chat-app-html-LC137" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#id-input<span class="pl-pds">'</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>keydown<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="file-sample-chat-app-html-LC138" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">if</span> (<span class="pl-smi">e</span>.<span class="pl-smi">keyCode</span> <span class="pl-k">===</span> <span class="pl-c1">13</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="file-sample-chat-app-html-LC139" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#id-enter<span class="pl-pds">'</span></span>).<span class="pl-en">trigger</span>(<span class="pl-s"><span class="pl-pds">'</span>click<span class="pl-pds">'</span></span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="file-sample-chat-app-html-LC140" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="file-sample-chat-app-html-LC141" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        });</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="file-sample-chat-app-html-LC142" class="blob-code blob-code-inner js-file-line"><span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="file-sample-chat-app-html-LC143" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-c"><span class="pl-c">//</span>LOGOUTを押下するとHUDをDetachする</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="file-sample-chat-app-html-LC144" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#id-logout<span class="pl-pds">'</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>click<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="file-sample-chat-app-html-LC145" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-smi">$</span>.<span class="pl-en">ajax</span>({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="file-sample-chat-app-html-LC146" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>POST<span class="pl-pds">'</span></span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="file-sample-chat-app-html-LC147" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-smi">location</span>.<span class="pl-c1">href</span>,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="file-sample-chat-app-html-LC148" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>data<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>logout<span class="pl-pds">'</span></span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="file-sample-chat-app-html-LC149" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            });</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="file-sample-chat-app-html-LC150" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        });</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="file-sample-chat-app-html-LC151" class="blob-code blob-code-inner js-file-line"><span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="file-sample-chat-app-html-LC152" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-c"><span class="pl-c">//</span>タイムスタンプを生成するユーザ関数</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="file-sample-chat-app-html-LC153" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-k">function</span> <span class="pl-en">gettimestamp</span>() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="file-sample-chat-app-html-LC154" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">var</span> d <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="file-sample-chat-app-html-LC155" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">var</span> hour <span class="pl-k">=</span> (<span class="pl-smi">d</span>.<span class="pl-c1">getHours</span>() <span class="pl-k">&lt;</span> <span class="pl-c1">10</span>) <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">'</span>0<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">d</span>.<span class="pl-c1">getHours</span>() <span class="pl-k">:</span> <span class="pl-smi">d</span>.<span class="pl-c1">getHours</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="file-sample-chat-app-html-LC156" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">var</span> min <span class="pl-k">=</span> (<span class="pl-smi">d</span>.<span class="pl-c1">getMinutes</span>() <span class="pl-k">&lt;</span> <span class="pl-c1">10</span>) <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">'</span>0<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">d</span>.<span class="pl-c1">getMinutes</span>() <span class="pl-k">:</span> <span class="pl-smi">d</span>.<span class="pl-c1">getMinutes</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="file-sample-chat-app-html-LC157" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">var</span> sec <span class="pl-k">=</span> (<span class="pl-smi">d</span>.<span class="pl-c1">getSeconds</span>() <span class="pl-k">&lt;</span> <span class="pl-c1">10</span>) <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">'</span>0<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">d</span>.<span class="pl-c1">getSeconds</span>() <span class="pl-k">:</span> <span class="pl-smi">d</span>.<span class="pl-c1">getSeconds</span>();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="file-sample-chat-app-html-LC158" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">return</span> (hour <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> min <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> sec);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="file-sample-chat-app-html-LC159" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="file-sample-chat-app-html-LC160" class="blob-code blob-code-inner js-file-line"><span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="file-sample-chat-app-html-LC161" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-c"><span class="pl-c">//</span>チャットログ欄に書き込む処理を統合する</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="file-sample-chat-app-html-LC162" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-c"><span class="pl-c">//</span>a = タイムスタンプ, b = 発言者, c = 発言内容</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="file-sample-chat-app-html-LC163" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-c"><span class="pl-c">//</span>d = 1 のときは 成功色, d = 2 のときは警告色にする</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="file-sample-chat-app-html-LC164" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-k">function</span> <span class="pl-en">log</span>(<span class="pl-smi">a</span>, <span class="pl-smi">b</span>, <span class="pl-smi">c</span>, <span class="pl-smi">d</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="file-sample-chat-app-html-LC165" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c"><span class="pl-c">//</span>Tableの末行にログを追加する</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="file-sample-chat-app-html-LC166" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>table<span class="pl-pds">'</span></span>).<span class="pl-c1">append</span>(</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="file-sample-chat-app-html-LC167" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>&lt;tr&gt;&lt;/tr&gt;<span class="pl-pds">'</span></span>)</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="file-sample-chat-app-html-LC168" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                .<span class="pl-c1">append</span>(<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>&lt;td&gt;&lt;/td&gt;<span class="pl-pds">'</span></span>).<span class="pl-c1">text</span>(a).<span class="pl-en">addClass</span>(<span class="pl-s"><span class="pl-pds">'</span>left top aligned single line one wide<span class="pl-pds">'</span></span>))</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="file-sample-chat-app-html-LC169" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                .<span class="pl-c1">append</span>(<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>&lt;td&gt;&lt;/td&gt;<span class="pl-pds">'</span></span>).<span class="pl-c1">text</span>(b).<span class="pl-en">addClass</span>(<span class="pl-s"><span class="pl-pds">'</span>left top aligned single line one wide<span class="pl-pds">'</span></span>))</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="file-sample-chat-app-html-LC170" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                .<span class="pl-c1">append</span>(<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>&lt;td&gt;&lt;/td&gt;<span class="pl-pds">'</span></span>).<span class="pl-c1">text</span>(c).<span class="pl-en">addClass</span>(<span class="pl-s"><span class="pl-pds">'</span>left top aligned<span class="pl-pds">'</span></span>))</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="file-sample-chat-app-html-LC171" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            );</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="file-sample-chat-app-html-LC172" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-c"><span class="pl-c">//</span>dの値があれば色を付ける</span></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="file-sample-chat-app-html-LC173" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">if</span> (d <span class="pl-k">==</span> <span class="pl-c1">1</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="file-sample-chat-app-html-LC174" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>table tr:last<span class="pl-pds">'</span></span>).<span class="pl-en">addClass</span>(<span class="pl-s"><span class="pl-pds">'</span>positive<span class="pl-pds">'</span></span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="file-sample-chat-app-html-LC175" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            } <span class="pl-k">else</span> <span class="pl-k">if</span> (d <span class="pl-k">==</span> <span class="pl-c1">2</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="file-sample-chat-app-html-LC176" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>table tr:last<span class="pl-pds">'</span></span>).<span class="pl-en">addClass</span>(<span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span>);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="file-sample-chat-app-html-LC177" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="file-sample-chat-app-html-LC178" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="file-sample-chat-app-html-LC179" class="blob-code blob-code-inner js-file-line"><span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="file-sample-chat-app-html-LC180" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        <span class="pl-k">function</span> <span class="pl-en">scrollbottom</span>() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="file-sample-chat-app-html-LC181" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#log<span class="pl-pds">'</span></span>).<span class="pl-en">scrollTop</span>(<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#log<span class="pl-pds">'</span></span>).<span class="pl-en">scrollTop</span>() <span class="pl-k">+</span> <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>#log<span class="pl-pds">'</span></span>).<span class="pl-c1">height</span>());</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="file-sample-chat-app-html-LC182" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        }</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="file-sample-chat-app-html-LC183" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">    </span>&lt;/<span class="pl-ent">script</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="file-sample-chat-app-html-LC184" class="blob-code blob-code-inner js-file-line">&lt;/<span class="pl-ent">body</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="file-sample-chat-app-html-LC185" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-html-L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="file-sample-chat-app-html-LC186" class="blob-code blob-code-inner js-file-line">&lt;/<span class="pl-ent">html</span>&gt;</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/masterpoppy/6f876f272b22f5bbf3e5b7c987152fed/raw/b54ea4ff2f38d6c64e2a9d89977f44b4f5d04fdd/Sample%20Chat%20App.html" style="float:right">view raw</a>
        <a href="https://gist.github.com/masterpoppy/6f876f272b22f5bbf3e5b7c987152fed#file-sample-chat-app-html">Sample Chat App.html</a>
        hosted with ❤ by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<noscript>View the code on <a href="https://gist.github.com/masterpoppy/6f876f272b22f5bbf3e5b7c987152fed">Gist</a>.</noscript></div> <ul> <li> <h3>LSLのコード</h3> <p><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1003">前回のエントリー</a> で紹介したようにメモリ節約のために、html部分のインデントとコメントは削除して埋め込んでいます。<br> (内容はうえのHTMLコードとおなじです)<br> BOXで0.050×0.850×0.850メートル角または0.050×0.850×0.425メートル角のHUDを作成して、このままスクリプトエディターに貼り付けてください。</p></li> </ul> <div class="oembed-gist"><script src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/88612afd78add9853e95fc94070a50ea.js"></script><link rel="stylesheet" href="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist42536085" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-sample-chat-app-lsl" class="file">


  <div itemprop="text" class="blob-wrapper data type-lsl ">

<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-sample-chat-app-lsl-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-sample-chat-app-lsl-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>***********************</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-sample-chat-app-lsl-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>Sample Chat App</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-sample-chat-app-lsl-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>2016-12-04 MasterPoppy</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-sample-chat-app-lsl-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>***********************</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-sample-chat-app-lsl-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">string</span> <span class="pl-smi">html</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;!DOCTYPE html&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-sample-chat-app-lsl-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;html&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-sample-chat-app-lsl-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;head&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-sample-chat-app-lsl-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;meta charset='UTF-8'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-sample-chat-app-lsl-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;title&gt;Sample Chat App&lt;/title&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-sample-chat-app-lsl-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'&gt;&lt;/script&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-sample-chat-app-lsl-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.js'&gt;&lt;/script&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-sample-chat-app-lsl-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;link rel='stylesheet' type='text/css' href='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.css' /&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-sample-chat-app-lsl-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;style type='text/css'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-sample-chat-app-lsl-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-s">@import url(http://fonts.googleapis.com/earlyaccess/notosansjp.css);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-sample-chat-app-lsl-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.ui,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-sample-chat-app-lsl-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.item,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-sample-chat-app-lsl-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-s">input {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-sample-chat-app-lsl-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-s">font-family: 'Noto Sans JP', helvetica, sans-serif;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-sample-chat-app-lsl-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-sample-chat-app-lsl-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.ui,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-sample-chat-app-lsl-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.item,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-sample-chat-app-lsl-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.ui.header,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-sample-chat-app-lsl-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.ui.table {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-sample-chat-app-lsl-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-s">font-size: 1.1rem;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-sample-chat-app-lsl-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-s">line-height: 1.5rem;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-sample-chat-app-lsl-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-sample-chat-app-lsl-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.ui.container {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-sample-chat-app-lsl-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-s">padding-top: 1vh;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-sample-chat-app-lsl-LC29" class="blob-code blob-code-inner js-file-line"><span class="pl-s">width: calc(100% - 16px);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-sample-chat-app-lsl-LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-sample-chat-app-lsl-LC31" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.ui.middle.attached.segment {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-sample-chat-app-lsl-LC32" class="blob-code blob-code-inner js-file-line"><span class="pl-s">height: calc(100vh - 165px);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-sample-chat-app-lsl-LC33" class="blob-code blob-code-inner js-file-line"><span class="pl-s">overflow-y: auto;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-sample-chat-app-lsl-LC34" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-sample-chat-app-lsl-LC35" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/style&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-sample-chat-app-lsl-LC36" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/head&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-sample-chat-app-lsl-LC37" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;body&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-sample-chat-app-lsl-LC38" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div id='main' class='ui container'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-sample-chat-app-lsl-LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div id='id-header' class='ui top attached block header'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-sample-chat-app-lsl-LC40" class="blob-code blob-code-inner js-file-line"><span class="pl-s">Sample Chat App</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-sample-chat-app-lsl-LC41" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-sample-chat-app-lsl-LC42" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div class='ui middle attached menu'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-sample-chat-app-lsl-LC43" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div id='id-ch' class='item'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-sample-chat-app-lsl-LC44" class="blob-code blob-code-inner js-file-line"><span class="pl-s">通信チャンネル xxx</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-sample-chat-app-lsl-LC45" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-sample-chat-app-lsl-LC46" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div class='menu'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-sample-chat-app-lsl-LC47" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div id='username' class='item'&gt;&lt;i class='user icon'&gt;&lt;/i&gt;USRNAME&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-sample-chat-app-lsl-LC48" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-sample-chat-app-lsl-LC49" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div class='right menu'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-sample-chat-app-lsl-LC50" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;a id='id-logout' class='item'&gt;LOGOUT&lt;/a&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-sample-chat-app-lsl-LC51" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-sample-chat-app-lsl-LC52" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-sample-chat-app-lsl-LC53" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div id='log' class='ui middle attached segment'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-sample-chat-app-lsl-LC54" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;table class='ui celled padded table'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-sample-chat-app-lsl-LC55" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/table&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-sample-chat-app-lsl-LC56" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-sample-chat-app-lsl-LC57" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div class='ui bottom attached segment'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-sample-chat-app-lsl-LC58" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div class='ui fluid action input'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-sample-chat-app-lsl-LC59" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;input id='id-input' type='text' placeholder='・・・'&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-sample-chat-app-lsl-LC60" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;div id='id-enter' class='ui button'&gt;ENTER&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-sample-chat-app-lsl-LC61" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-sample-chat-app-lsl-LC62" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-sample-chat-app-lsl-LC63" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/div&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-sample-chat-app-lsl-LC64" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;script&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-sample-chat-app-lsl-LC65" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$(document).ready(function() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-sample-chat-app-lsl-LC66" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$.ajax({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-sample-chat-app-lsl-LC67" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'type': 'POST',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-sample-chat-app-lsl-LC68" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'url': location.href,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-sample-chat-app-lsl-LC69" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'dataType': 'json',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-sample-chat-app-lsl-LC70" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'data': 'init',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-sample-chat-app-lsl-LC71" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'timeout': 0</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-sample-chat-app-lsl-LC72" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}).done(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-sample-chat-app-lsl-LC73" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('#id-ch').text('通信チャンネル ' + data.channel);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-sample-chat-app-lsl-LC74" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('#username').html('&lt;i&gt;&lt;/i&gt;' + data.name).children().addClass('user icon');</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-sample-chat-app-lsl-LC75" class="blob-code blob-code-inner js-file-line"><span class="pl-s">log(data.timestamp, 'システムログ', 'チャンネル ' + data.channel + ' で開始しました。 チャンネルは ObjectDesc で変更できます。', 1);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-sample-chat-app-lsl-LC76" class="blob-code blob-code-inner js-file-line"><span class="pl-s">getchat();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-sample-chat-app-lsl-LC77" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}).fail(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-sample-chat-app-lsl-LC78" class="blob-code blob-code-inner js-file-line"><span class="pl-s">end = new Date();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-sample-chat-app-lsl-LC79" class="blob-code blob-code-inner js-file-line"><span class="pl-s">log(gettimestamp(), 'ERROR(0)', data.statusText, 2);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-sample-chat-app-lsl-LC80" class="blob-code blob-code-inner js-file-line"><span class="pl-s">});</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-sample-chat-app-lsl-LC81" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}, false);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-sample-chat-app-lsl-LC82" class="blob-code blob-code-inner js-file-line"><span class="pl-s"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-sample-chat-app-lsl-LC83" class="blob-code blob-code-inner js-file-line"><span class="pl-s">function getchat() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-sample-chat-app-lsl-LC84" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$.ajax({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-sample-chat-app-lsl-LC85" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'type': 'POST',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-sample-chat-app-lsl-LC86" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'url': location.href,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-sample-chat-app-lsl-LC87" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'dataType': 'json',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-sample-chat-app-lsl-LC88" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'data': 'getchat',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-sample-chat-app-lsl-LC89" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'timeout': 0</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-sample-chat-app-lsl-LC90" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}).done(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-sample-chat-app-lsl-LC91" class="blob-code blob-code-inner js-file-line"><span class="pl-s">log(data.timestamp, data.name, data.body);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-sample-chat-app-lsl-LC92" class="blob-code blob-code-inner js-file-line"><span class="pl-s">scrollbottom();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-sample-chat-app-lsl-LC93" class="blob-code blob-code-inner js-file-line"><span class="pl-s">getchat();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-sample-chat-app-lsl-LC94" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}).fail(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-sample-chat-app-lsl-LC95" class="blob-code blob-code-inner js-file-line"><span class="pl-s">if (data.status == 504) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-sample-chat-app-lsl-LC96" class="blob-code blob-code-inner js-file-line"><span class="pl-s">getchat();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-sample-chat-app-lsl-LC97" class="blob-code blob-code-inner js-file-line"><span class="pl-s">} else {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-sample-chat-app-lsl-LC98" class="blob-code blob-code-inner js-file-line"><span class="pl-s">end = new Date();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-sample-chat-app-lsl-LC99" class="blob-code blob-code-inner js-file-line"><span class="pl-s">log(gettimestamp(), 'ERROR(1)', data.statusText, 2);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-sample-chat-app-lsl-LC100" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-sample-chat-app-lsl-LC101" class="blob-code blob-code-inner js-file-line"><span class="pl-s">});</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-sample-chat-app-lsl-LC102" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-sample-chat-app-lsl-LC103" class="blob-code blob-code-inner js-file-line"><span class="pl-s"></span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-sample-chat-app-lsl-LC104" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('.ui.button').on('click', function() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-sample-chat-app-lsl-LC105" class="blob-code blob-code-inner js-file-line"><span class="pl-s">var speech = $('#id-input').val();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-sample-chat-app-lsl-LC106" class="blob-code blob-code-inner js-file-line"><span class="pl-s">if (speech !== '') {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-sample-chat-app-lsl-LC107" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('#id-input').val('');</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-sample-chat-app-lsl-LC108" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$.ajax({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-sample-chat-app-lsl-LC109" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'type': 'POST',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-sample-chat-app-lsl-LC110" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'url': location.href,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-sample-chat-app-lsl-LC111" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'dataType': 'json',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-sample-chat-app-lsl-LC112" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'data': JSON.stringify({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-sample-chat-app-lsl-LC113" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'speech': speech</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-sample-chat-app-lsl-LC114" class="blob-code blob-code-inner js-file-line"><span class="pl-s">})</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-sample-chat-app-lsl-LC115" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}).done(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-sample-chat-app-lsl-LC116" class="blob-code blob-code-inner js-file-line"><span class="pl-s">log(data.timestamp, data.name, data.body);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-sample-chat-app-lsl-LC117" class="blob-code blob-code-inner js-file-line"><span class="pl-s">scrollbottom();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-sample-chat-app-lsl-LC118" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}).fail(function(data) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-sample-chat-app-lsl-LC119" class="blob-code blob-code-inner js-file-line"><span class="pl-s">log(gettimestamp(), 'ERROR(2)', data.statusText, 2);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-sample-chat-app-lsl-LC120" class="blob-code blob-code-inner js-file-line"><span class="pl-s">scrollbottom();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-sample-chat-app-lsl-LC121" class="blob-code blob-code-inner js-file-line"><span class="pl-s">});</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-sample-chat-app-lsl-LC122" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-sample-chat-app-lsl-LC123" class="blob-code blob-code-inner js-file-line"><span class="pl-s">});</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-sample-chat-app-lsl-LC124" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('#id-input').on('keydown', function(e) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="file-sample-chat-app-lsl-LC125" class="blob-code blob-code-inner js-file-line"><span class="pl-s">if (e.keyCode === 13) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="file-sample-chat-app-lsl-LC126" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('#id-enter').trigger('click');</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="file-sample-chat-app-lsl-LC127" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="file-sample-chat-app-lsl-LC128" class="blob-code blob-code-inner js-file-line"><span class="pl-s">});</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="file-sample-chat-app-lsl-LC129" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('#id-logout').on('click', function() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="file-sample-chat-app-lsl-LC130" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$.ajax({</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="file-sample-chat-app-lsl-LC131" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'type': 'POST',</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="file-sample-chat-app-lsl-LC132" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'url': location.href,</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="file-sample-chat-app-lsl-LC133" class="blob-code blob-code-inner js-file-line"><span class="pl-s">'data': 'logout'</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="file-sample-chat-app-lsl-LC134" class="blob-code blob-code-inner js-file-line"><span class="pl-s">});</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="file-sample-chat-app-lsl-LC135" class="blob-code blob-code-inner js-file-line"><span class="pl-s">});</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="file-sample-chat-app-lsl-LC136" class="blob-code blob-code-inner js-file-line"><span class="pl-s">function gettimestamp() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="file-sample-chat-app-lsl-LC137" class="blob-code blob-code-inner js-file-line"><span class="pl-s">var d = new Date();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="file-sample-chat-app-lsl-LC138" class="blob-code blob-code-inner js-file-line"><span class="pl-s">var hour = (d.getHours() &lt; 10) ? '0' + d.getHours() : d.getHours();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="file-sample-chat-app-lsl-LC139" class="blob-code blob-code-inner js-file-line"><span class="pl-s">var min = (d.getMinutes() &lt; 10) ? '0' + d.getMinutes() : d.getMinutes();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="file-sample-chat-app-lsl-LC140" class="blob-code blob-code-inner js-file-line"><span class="pl-s">var sec = (d.getSeconds() &lt; 10) ? '0' + d.getSeconds() : d.getSeconds();</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="file-sample-chat-app-lsl-LC141" class="blob-code blob-code-inner js-file-line"><span class="pl-s">return (hour + ':' + min + ':' + sec);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="file-sample-chat-app-lsl-LC142" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="file-sample-chat-app-lsl-LC143" class="blob-code blob-code-inner js-file-line"><span class="pl-s">function log(a, b, c, d) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="file-sample-chat-app-lsl-LC144" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('table').append(</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="file-sample-chat-app-lsl-LC145" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('&lt;tr&gt;&lt;/tr&gt;')</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="file-sample-chat-app-lsl-LC146" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.append($('&lt;td&gt;&lt;/td&gt;').text(a).addClass('left top aligned single line one wide'))</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="file-sample-chat-app-lsl-LC147" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.append($('&lt;td&gt;&lt;/td&gt;').text(b).addClass('left top aligned single line one wide'))</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="file-sample-chat-app-lsl-LC148" class="blob-code blob-code-inner js-file-line"><span class="pl-s">.append($('&lt;td&gt;&lt;/td&gt;').text(c).addClass('left top aligned'))</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="file-sample-chat-app-lsl-LC149" class="blob-code blob-code-inner js-file-line"><span class="pl-s">);</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="file-sample-chat-app-lsl-LC150" class="blob-code blob-code-inner js-file-line"><span class="pl-s">if (d == 1) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="file-sample-chat-app-lsl-LC151" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('table tr:last').addClass('positive');</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="file-sample-chat-app-lsl-LC152" class="blob-code blob-code-inner js-file-line"><span class="pl-s">} else if (d == 2) {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="file-sample-chat-app-lsl-LC153" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('table tr:last').addClass('error');</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="file-sample-chat-app-lsl-LC154" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="file-sample-chat-app-lsl-LC155" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="file-sample-chat-app-lsl-LC156" class="blob-code blob-code-inner js-file-line"><span class="pl-s">function scrollbottom() {</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="file-sample-chat-app-lsl-LC157" class="blob-code blob-code-inner js-file-line"><span class="pl-s">$('#log').scrollTop($('#log').scrollTop() + $('#log').height());</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="file-sample-chat-app-lsl-LC158" class="blob-code blob-code-inner js-file-line"><span class="pl-s">}</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="file-sample-chat-app-lsl-LC159" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/script&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="file-sample-chat-app-lsl-LC160" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/body&gt;</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="file-sample-chat-app-lsl-LC161" class="blob-code blob-code-inner js-file-line"><span class="pl-s">&lt;/html&gt;<span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="file-sample-chat-app-lsl-LC162" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="file-sample-chat-app-lsl-LC163" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">i</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="file-sample-chat-app-lsl-LC164" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">line</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="file-sample-chat-app-lsl-LC165" class="blob-code blob-code-inner js-file-line"><span class="pl-k">key</span> <span class="pl-smi">query_id</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="file-sample-chat-app-lsl-LC166" class="blob-code blob-code-inner js-file-line"><span class="pl-k">vector</span> <span class="pl-smi">scale</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="file-sample-chat-app-lsl-LC167" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">status</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="file-sample-chat-app-lsl-LC168" class="blob-code blob-code-inner js-file-line"><span class="pl-k">key</span> <span class="pl-smi">request</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="file-sample-chat-app-lsl-LC169" class="blob-code blob-code-inner js-file-line"><span class="pl-k">key</span> <span class="pl-smi">client</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="file-sample-chat-app-lsl-LC170" class="blob-code blob-code-inner js-file-line"><span class="pl-k">string</span> <span class="pl-smi">URI</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="file-sample-chat-app-lsl-LC171" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">handle</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="file-sample-chat-app-lsl-LC172" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">ch</span> <span class="pl-k">=</span> <span class="pl-c1">100</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="file-sample-chat-app-lsl-LC173" class="blob-code blob-code-inner js-file-line"><span class="pl-k">integer</span> <span class="pl-smi">render_face</span> <span class="pl-k">=</span> <span class="pl-c1">4</span>; <span class="pl-c"><span class="pl-c">//</span>-X</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="file-sample-chat-app-lsl-LC174" class="blob-code blob-code-inner js-file-line"><span class="pl-k">float</span> <span class="pl-smi">HUD_scale</span> <span class="pl-k">=</span> <span class="pl-c1">0.85</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="file-sample-chat-app-lsl-LC175" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="file-sample-chat-app-lsl-LC176" class="blob-code blob-code-inner js-file-line"><span class="pl-en">check_memory</span>()</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="file-sample-chat-app-lsl-LC177" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="file-sample-chat-app-lsl-LC178" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">float</span> <span class="pl-smi">freememory</span> <span class="pl-k">=</span> <span class="pl-c1">llGetFreeMemory</span>()<span class="pl-k">/</span><span class="pl-c1">1024.0</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="file-sample-chat-app-lsl-LC179" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">llOwnerSay</span>(<span class="pl-s"><span class="pl-pds">"</span>freememory = <span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">freememory</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">"</span> / 64 kbyte<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="file-sample-chat-app-lsl-LC180" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="file-sample-chat-app-lsl-LC181" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="file-sample-chat-app-lsl-LC182" class="blob-code blob-code-inner js-file-line"><span class="pl-k">string</span> <span class="pl-en">ConvertWallclockToTime</span>()</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="file-sample-chat-app-lsl-LC183" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="file-sample-chat-app-lsl-LC184" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">now</span> <span class="pl-k">=</span> (<span class="pl-k">integer</span>)<span class="pl-c1">llGetWallclock</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="file-sample-chat-app-lsl-LC185" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">seconds</span> <span class="pl-k">=</span> <span class="pl-smi">now</span> <span class="pl-k">%</span> <span class="pl-c1">60</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="file-sample-chat-app-lsl-LC186" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">minutes</span> <span class="pl-k">=</span> (<span class="pl-smi">now</span> <span class="pl-k">/</span> <span class="pl-c1">60</span>) <span class="pl-k">%</span> <span class="pl-c1">60</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="file-sample-chat-app-lsl-LC187" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">integer</span> <span class="pl-smi">hours</span> <span class="pl-k">=</span> <span class="pl-smi">now</span> <span class="pl-k">/</span> <span class="pl-c1">3600</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="file-sample-chat-app-lsl-LC188" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-c1">llGetSubString</span>(<span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">hours</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>:<span class="pl-pds">"</span></span> </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="file-sample-chat-app-lsl-LC189" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">+</span> <span class="pl-c1">llGetSubString</span>(<span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">minutes</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>:<span class="pl-pds">"</span></span> </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="file-sample-chat-app-lsl-LC190" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">+</span> <span class="pl-c1">llGetSubString</span>(<span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span> <span class="pl-k">+</span> (<span class="pl-k">string</span>)<span class="pl-smi">seconds</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L191" class="blob-num js-line-number" data-line-number="191"></td>
        <td id="file-sample-chat-app-lsl-LC191" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L192" class="blob-num js-line-number" data-line-number="192"></td>
        <td id="file-sample-chat-app-lsl-LC192" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L193" class="blob-num js-line-number" data-line-number="193"></td>
        <td id="file-sample-chat-app-lsl-LC193" class="blob-code blob-code-inner js-file-line"><span class="pl-k">default</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L194" class="blob-num js-line-number" data-line-number="194"></td>
        <td id="file-sample-chat-app-lsl-LC194" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L195" class="blob-num js-line-number" data-line-number="195"></td>
        <td id="file-sample-chat-app-lsl-LC195" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">state_entry</span>()</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L196" class="blob-num js-line-number" data-line-number="196"></td>
        <td id="file-sample-chat-app-lsl-LC196" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L197" class="blob-num js-line-number" data-line-number="197"></td>
        <td id="file-sample-chat-app-lsl-LC197" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">llReleaseURL</span>(<span class="pl-smi">URI</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L198" class="blob-num js-line-number" data-line-number="198"></td>
        <td id="file-sample-chat-app-lsl-LC198" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-c1">llRequestURL</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L199" class="blob-num js-line-number" data-line-number="199"></td>
        <td id="file-sample-chat-app-lsl-LC199" class="blob-code blob-code-inner js-file-line">        <span class="pl-en">check_memory</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L200" class="blob-num js-line-number" data-line-number="200"></td>
        <td id="file-sample-chat-app-lsl-LC200" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L201" class="blob-num js-line-number" data-line-number="201"></td>
        <td id="file-sample-chat-app-lsl-LC201" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L202" class="blob-num js-line-number" data-line-number="202"></td>
        <td id="file-sample-chat-app-lsl-LC202" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">changed</span>(<span class="pl-k">integer</span> <span class="pl-smi">change</span>)</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L203" class="blob-num js-line-number" data-line-number="203"></td>
        <td id="file-sample-chat-app-lsl-LC203" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L204" class="blob-num js-line-number" data-line-number="204"></td>
        <td id="file-sample-chat-app-lsl-LC204" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(<span class="pl-smi">change</span> <span class="pl-k">&amp;</span> <span class="pl-c1">CHANGED_REGION</span> <span class="pl-k">||</span> <span class="pl-smi">change</span> <span class="pl-k">&amp;</span> <span class="pl-c1">CHANGED_REGION_START</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L205" class="blob-num js-line-number" data-line-number="205"></td>
        <td id="file-sample-chat-app-lsl-LC205" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">llReleaseURL</span>(<span class="pl-smi">URI</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L206" class="blob-num js-line-number" data-line-number="206"></td>
        <td id="file-sample-chat-app-lsl-LC206" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-c1">llRequestURL</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L207" class="blob-num js-line-number" data-line-number="207"></td>
        <td id="file-sample-chat-app-lsl-LC207" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L208" class="blob-num js-line-number" data-line-number="208"></td>
        <td id="file-sample-chat-app-lsl-LC208" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">change</span> <span class="pl-k">&amp;</span> <span class="pl-c1">CHANGED_SCALE</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L209" class="blob-num js-line-number" data-line-number="209"></td>
        <td id="file-sample-chat-app-lsl-LC209" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">scale</span> <span class="pl-k">=</span> <span class="pl-c1">llGetScale</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L210" class="blob-num js-line-number" data-line-number="210"></td>
        <td id="file-sample-chat-app-lsl-LC210" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">status</span> <span class="pl-k">=</span> <span class="pl-c1">llSetLinkMedia</span>(<span class="pl-c1">LINK_THIS</span>, <span class="pl-smi">render_face</span>, [</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L211" class="blob-num js-line-number" data-line-number="211"></td>
        <td id="file-sample-chat-app-lsl-LC211" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">PRIM_MEDIA_AUTO_SCALE</span>, <span class="pl-c1">FALSE</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L212" class="blob-num js-line-number" data-line-number="212"></td>
        <td id="file-sample-chat-app-lsl-LC212" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">PRIM_MEDIA_WIDTH_PIXELS</span>, <span class="pl-c1">1024.0</span> <span class="pl-k">*</span> <span class="pl-smi">scale</span>.<span class="pl-smi">y</span> <span class="pl-k">/</span> <span class="pl-smi">HUD_scale</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L213" class="blob-num js-line-number" data-line-number="213"></td>
        <td id="file-sample-chat-app-lsl-LC213" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">PRIM_MEDIA_HEIGHT_PIXELS</span>, <span class="pl-c1">1024.0</span> <span class="pl-k">*</span> <span class="pl-smi">scale</span>.<span class="pl-smi">z</span> <span class="pl-k">/</span> <span class="pl-smi">HUD_scale</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L214" class="blob-num js-line-number" data-line-number="214"></td>
        <td id="file-sample-chat-app-lsl-LC214" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">PRIM_MEDIA_PERMS_INTERACT</span>, <span class="pl-c1">PRIM_MEDIA_PERM_NONE</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L215" class="blob-num js-line-number" data-line-number="215"></td>
        <td id="file-sample-chat-app-lsl-LC215" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">PRIM_MEDIA_PERMS_CONTROL</span>, <span class="pl-c1">PRIM_MEDIA_PERM_NONE</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L216" class="blob-num js-line-number" data-line-number="216"></td>
        <td id="file-sample-chat-app-lsl-LC216" class="blob-code blob-code-inner js-file-line">            ]);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L217" class="blob-num js-line-number" data-line-number="217"></td>
        <td id="file-sample-chat-app-lsl-LC217" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L218" class="blob-num js-line-number" data-line-number="218"></td>
        <td id="file-sample-chat-app-lsl-LC218" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L219" class="blob-num js-line-number" data-line-number="219"></td>
        <td id="file-sample-chat-app-lsl-LC219" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L220" class="blob-num js-line-number" data-line-number="220"></td>
        <td id="file-sample-chat-app-lsl-LC220" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">on_rez</span>(<span class="pl-k">integer</span> <span class="pl-smi">start_param</span>)</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L221" class="blob-num js-line-number" data-line-number="221"></td>
        <td id="file-sample-chat-app-lsl-LC221" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L222" class="blob-num js-line-number" data-line-number="222"></td>
        <td id="file-sample-chat-app-lsl-LC222" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">llReleaseURL</span>(<span class="pl-smi">URI</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L223" class="blob-num js-line-number" data-line-number="223"></td>
        <td id="file-sample-chat-app-lsl-LC223" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-c1">llRequestURL</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L224" class="blob-num js-line-number" data-line-number="224"></td>
        <td id="file-sample-chat-app-lsl-LC224" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L225" class="blob-num js-line-number" data-line-number="225"></td>
        <td id="file-sample-chat-app-lsl-LC225" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L226" class="blob-num js-line-number" data-line-number="226"></td>
        <td id="file-sample-chat-app-lsl-LC226" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">attach</span>(<span class="pl-k">key</span> <span class="pl-smi">id</span>)</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L227" class="blob-num js-line-number" data-line-number="227"></td>
        <td id="file-sample-chat-app-lsl-LC227" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L228" class="blob-num js-line-number" data-line-number="228"></td>
        <td id="file-sample-chat-app-lsl-LC228" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(<span class="pl-smi">id</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L229" class="blob-num js-line-number" data-line-number="229"></td>
        <td id="file-sample-chat-app-lsl-LC229" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">llReleaseURL</span>(<span class="pl-smi">URI</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L230" class="blob-num js-line-number" data-line-number="230"></td>
        <td id="file-sample-chat-app-lsl-LC230" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-c1">llRequestURL</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L231" class="blob-num js-line-number" data-line-number="231"></td>
        <td id="file-sample-chat-app-lsl-LC231" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L232" class="blob-num js-line-number" data-line-number="232"></td>
        <td id="file-sample-chat-app-lsl-LC232" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L233" class="blob-num js-line-number" data-line-number="233"></td>
        <td id="file-sample-chat-app-lsl-LC233" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L234" class="blob-num js-line-number" data-line-number="234"></td>
        <td id="file-sample-chat-app-lsl-LC234" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">http_request</span>(<span class="pl-k">key</span> <span class="pl-smi">id</span>, <span class="pl-k">string</span> <span class="pl-smi">method</span>, <span class="pl-k">string</span> <span class="pl-smi">body</span>)</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L235" class="blob-num js-line-number" data-line-number="235"></td>
        <td id="file-sample-chat-app-lsl-LC235" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L236" class="blob-num js-line-number" data-line-number="236"></td>
        <td id="file-sample-chat-app-lsl-LC236" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">key</span> <span class="pl-smi">owner</span> <span class="pl-k">=</span> <span class="pl-c1">llGetOwner</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L237" class="blob-num js-line-number" data-line-number="237"></td>
        <td id="file-sample-chat-app-lsl-LC237" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">vector</span> <span class="pl-smi">ownerSize</span> <span class="pl-k">=</span> <span class="pl-c1">llGetAgentSize</span>(<span class="pl-smi">owner</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L238" class="blob-num js-line-number" data-line-number="238"></td>
        <td id="file-sample-chat-app-lsl-LC238" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">string</span> <span class="pl-smi">useragent</span> <span class="pl-k">=</span> <span class="pl-c1">llGetHTTPHeader</span>(<span class="pl-smi">id</span>, <span class="pl-s"><span class="pl-pds">"</span>user-agent<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L239" class="blob-num js-line-number" data-line-number="239"></td>
        <td id="file-sample-chat-app-lsl-LC239" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L240" class="blob-num js-line-number" data-line-number="240"></td>
        <td id="file-sample-chat-app-lsl-LC240" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (<span class="pl-smi">request</span> <span class="pl-k">==</span> <span class="pl-smi">id</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L241" class="blob-num js-line-number" data-line-number="241"></td>
        <td id="file-sample-chat-app-lsl-LC241" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">request</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L242" class="blob-num js-line-number" data-line-number="242"></td>
        <td id="file-sample-chat-app-lsl-LC242" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">method</span> <span class="pl-k">==</span> <span class="pl-c1">URL_REQUEST_GRANTED</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L243" class="blob-num js-line-number" data-line-number="243"></td>
        <td id="file-sample-chat-app-lsl-LC243" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">URI</span> <span class="pl-k">=</span> <span class="pl-smi">body</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L244" class="blob-num js-line-number" data-line-number="244"></td>
        <td id="file-sample-chat-app-lsl-LC244" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">scale</span> <span class="pl-k">=</span> <span class="pl-c1">llGetScale</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L245" class="blob-num js-line-number" data-line-number="245"></td>
        <td id="file-sample-chat-app-lsl-LC245" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llClearPrimMedia</span>(<span class="pl-smi">render_face</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L246" class="blob-num js-line-number" data-line-number="246"></td>
        <td id="file-sample-chat-app-lsl-LC246" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">status</span> <span class="pl-k">=</span> <span class="pl-c1">llSetLinkMedia</span>(<span class="pl-c1">LINK_THIS</span>, <span class="pl-smi">render_face</span>, [</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L247" class="blob-num js-line-number" data-line-number="247"></td>
        <td id="file-sample-chat-app-lsl-LC247" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_HOME_URL</span>, <span class="pl-smi">URI</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L248" class="blob-num js-line-number" data-line-number="248"></td>
        <td id="file-sample-chat-app-lsl-LC248" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_CURRENT_URL</span>, <span class="pl-smi">URI</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L249" class="blob-num js-line-number" data-line-number="249"></td>
        <td id="file-sample-chat-app-lsl-LC249" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_AUTO_ZOOM</span>, <span class="pl-c1">FALSE</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L250" class="blob-num js-line-number" data-line-number="250"></td>
        <td id="file-sample-chat-app-lsl-LC250" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_AUTO_PLAY</span>, <span class="pl-c1">TRUE</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L251" class="blob-num js-line-number" data-line-number="251"></td>
        <td id="file-sample-chat-app-lsl-LC251" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_AUTO_SCALE</span>, <span class="pl-c1">FALSE</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L252" class="blob-num js-line-number" data-line-number="252"></td>
        <td id="file-sample-chat-app-lsl-LC252" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_WIDTH_PIXELS</span>, <span class="pl-c1">1024.0</span> <span class="pl-k">*</span> <span class="pl-smi">scale</span>.<span class="pl-smi">y</span> <span class="pl-k">/</span> <span class="pl-smi">HUD_scale</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L253" class="blob-num js-line-number" data-line-number="253"></td>
        <td id="file-sample-chat-app-lsl-LC253" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_HEIGHT_PIXELS</span>, <span class="pl-c1">1024.0</span> <span class="pl-k">*</span> <span class="pl-smi">scale</span>.<span class="pl-smi">z</span> <span class="pl-k">/</span> <span class="pl-smi">HUD_scale</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L254" class="blob-num js-line-number" data-line-number="254"></td>
        <td id="file-sample-chat-app-lsl-LC254" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_PERMS_INTERACT</span>, <span class="pl-c1">PRIM_MEDIA_PERM_NONE</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L255" class="blob-num js-line-number" data-line-number="255"></td>
        <td id="file-sample-chat-app-lsl-LC255" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">PRIM_MEDIA_PERMS_CONTROL</span>, <span class="pl-c1">PRIM_MEDIA_PERM_NONE</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L256" class="blob-num js-line-number" data-line-number="256"></td>
        <td id="file-sample-chat-app-lsl-LC256" class="blob-code blob-code-inner js-file-line">                ]);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L257" class="blob-num js-line-number" data-line-number="257"></td>
        <td id="file-sample-chat-app-lsl-LC257" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L258" class="blob-num js-line-number" data-line-number="258"></td>
        <td id="file-sample-chat-app-lsl-LC258" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-smi">method</span> <span class="pl-k">==</span> <span class="pl-c1">URL_REQUEST_DENIED</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L259" class="blob-num js-line-number" data-line-number="259"></td>
        <td id="file-sample-chat-app-lsl-LC259" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llOwnerSay</span>(<span class="pl-s"><span class="pl-pds">"</span>Something went wrong, no url:<span class="pl-cce">\n</span><span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">body</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L260" class="blob-num js-line-number" data-line-number="260"></td>
        <td id="file-sample-chat-app-lsl-LC260" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L261" class="blob-num js-line-number" data-line-number="261"></td>
        <td id="file-sample-chat-app-lsl-LC261" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L262" class="blob-num js-line-number" data-line-number="262"></td>
        <td id="file-sample-chat-app-lsl-LC262" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L263" class="blob-num js-line-number" data-line-number="263"></td>
        <td id="file-sample-chat-app-lsl-LC263" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span>(<span class="pl-smi">method</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L264" class="blob-num js-line-number" data-line-number="264"></td>
        <td id="file-sample-chat-app-lsl-LC264" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llSetContentType</span>(<span class="pl-smi">id</span>, <span class="pl-c1">CONTENT_TYPE_HTML</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L265" class="blob-num js-line-number" data-line-number="265"></td>
        <td id="file-sample-chat-app-lsl-LC265" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llHTTPResponse</span>(<span class="pl-smi">id</span>, <span class="pl-c1">200</span>, <span class="pl-smi">html</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L266" class="blob-num js-line-number" data-line-number="266"></td>
        <td id="file-sample-chat-app-lsl-LC266" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L267" class="blob-num js-line-number" data-line-number="267"></td>
        <td id="file-sample-chat-app-lsl-LC267" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">method</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>POST<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L268" class="blob-num js-line-number" data-line-number="268"></td>
        <td id="file-sample-chat-app-lsl-LC268" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">if</span>(<span class="pl-smi">body</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>init<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L269" class="blob-num js-line-number" data-line-number="269"></td>
        <td id="file-sample-chat-app-lsl-LC269" class="blob-code blob-code-inner js-file-line">                    <span class="pl-smi">ch</span> <span class="pl-k">=</span> (<span class="pl-k">integer</span>)<span class="pl-c1">llGetObjectDesc</span>();</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L270" class="blob-num js-line-number" data-line-number="270"></td>
        <td id="file-sample-chat-app-lsl-LC270" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">if</span>(<span class="pl-smi">ch</span> <span class="pl-k">==</span> <span class="pl-c1">0</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L271" class="blob-num js-line-number" data-line-number="271"></td>
        <td id="file-sample-chat-app-lsl-LC271" class="blob-code blob-code-inner js-file-line">                        <span class="pl-smi">ch</span> <span class="pl-k">=</span> <span class="pl-c1">100</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L272" class="blob-num js-line-number" data-line-number="272"></td>
        <td id="file-sample-chat-app-lsl-LC272" class="blob-code blob-code-inner js-file-line">                    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L273" class="blob-num js-line-number" data-line-number="273"></td>
        <td id="file-sample-chat-app-lsl-LC273" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c1">llListenRemove</span>(<span class="pl-smi">handle</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L274" class="blob-num js-line-number" data-line-number="274"></td>
        <td id="file-sample-chat-app-lsl-LC274" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c1">llListen</span>(<span class="pl-smi">ch</span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-c1">NULL_KEY</span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L275" class="blob-num js-line-number" data-line-number="275"></td>
        <td id="file-sample-chat-app-lsl-LC275" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c1">llSetContentType</span>(<span class="pl-smi">id</span>, <span class="pl-c1">CONTENT_TYPE_JSON</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L276" class="blob-num js-line-number" data-line-number="276"></td>
        <td id="file-sample-chat-app-lsl-LC276" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c1">llHTTPResponse</span>(<span class="pl-smi">id</span>, <span class="pl-c1">200</span>, <span class="pl-c1">llList2Json</span>(<span class="pl-c1">JSON_OBJECT</span>, [</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L277" class="blob-num js-line-number" data-line-number="277"></td>
        <td id="file-sample-chat-app-lsl-LC277" class="blob-code blob-code-inner js-file-line">                    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-c1">llGetDisplayName</span>(<span class="pl-c1">llGetOwner</span>()),</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L278" class="blob-num js-line-number" data-line-number="278"></td>
        <td id="file-sample-chat-app-lsl-LC278" class="blob-code blob-code-inner js-file-line">                    <span class="pl-s"><span class="pl-pds">"</span>timestamp<span class="pl-pds">"</span></span>,<span class="pl-en">ConvertWallclockToTime</span>(),</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L279" class="blob-num js-line-number" data-line-number="279"></td>
        <td id="file-sample-chat-app-lsl-LC279" class="blob-code blob-code-inner js-file-line">                    <span class="pl-s"><span class="pl-pds">"</span>channel<span class="pl-pds">"</span></span>,<span class="pl-smi">ch</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L280" class="blob-num js-line-number" data-line-number="280"></td>
        <td id="file-sample-chat-app-lsl-LC280" class="blob-code blob-code-inner js-file-line">                    ]));</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L281" class="blob-num js-line-number" data-line-number="281"></td>
        <td id="file-sample-chat-app-lsl-LC281" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L282" class="blob-num js-line-number" data-line-number="282"></td>
        <td id="file-sample-chat-app-lsl-LC282" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">body</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>getchat<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L283" class="blob-num js-line-number" data-line-number="283"></td>
        <td id="file-sample-chat-app-lsl-LC283" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c"><span class="pl-c">//</span>グローバル変数にhttp requestのIDを保持する(*)</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L284" class="blob-num js-line-number" data-line-number="284"></td>
        <td id="file-sample-chat-app-lsl-LC284" class="blob-code blob-code-inner js-file-line">                    <span class="pl-smi">query_id</span> <span class="pl-k">=</span> <span class="pl-smi">id</span>;</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L285" class="blob-num js-line-number" data-line-number="285"></td>
        <td id="file-sample-chat-app-lsl-LC285" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L286" class="blob-num js-line-number" data-line-number="286"></td>
        <td id="file-sample-chat-app-lsl-LC286" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">body</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>logout<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L287" class="blob-num js-line-number" data-line-number="287"></td>
        <td id="file-sample-chat-app-lsl-LC287" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">if</span>(<span class="pl-c1">llGetAttached</span>()){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L288" class="blob-num js-line-number" data-line-number="288"></td>
        <td id="file-sample-chat-app-lsl-LC288" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c1">llRequestPermissions</span>(<span class="pl-c1">llGetOwner</span>(), <span class="pl-c1">PERMISSION_ATTACH</span> );</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L289" class="blob-num js-line-number" data-line-number="289"></td>
        <td id="file-sample-chat-app-lsl-LC289" class="blob-code blob-code-inner js-file-line">                    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L290" class="blob-num js-line-number" data-line-number="290"></td>
        <td id="file-sample-chat-app-lsl-LC290" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L291" class="blob-num js-line-number" data-line-number="291"></td>
        <td id="file-sample-chat-app-lsl-LC291" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L292" class="blob-num js-line-number" data-line-number="292"></td>
        <td id="file-sample-chat-app-lsl-LC292" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">string</span> <span class="pl-smi">var</span> <span class="pl-k">=</span> <span class="pl-c1">llJsonGetValue</span>(<span class="pl-smi">body</span>, [<span class="pl-s"><span class="pl-pds">"</span>speech<span class="pl-pds">"</span></span>]);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L293" class="blob-num js-line-number" data-line-number="293"></td>
        <td id="file-sample-chat-app-lsl-LC293" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">if</span>(<span class="pl-smi">var</span> <span class="pl-k">!=</span> <span class="pl-c1">JSON_INVALID</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L294" class="blob-num js-line-number" data-line-number="294"></td>
        <td id="file-sample-chat-app-lsl-LC294" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c"><span class="pl-c">//</span>通信チャンネル向けにRegionSay</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L295" class="blob-num js-line-number" data-line-number="295"></td>
        <td id="file-sample-chat-app-lsl-LC295" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c1">llRegionSay</span>(<span class="pl-smi">ch</span>, <span class="pl-smi">var</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L296" class="blob-num js-line-number" data-line-number="296"></td>
        <td id="file-sample-chat-app-lsl-LC296" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c"><span class="pl-c">//</span>CEFにResponse</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L297" class="blob-num js-line-number" data-line-number="297"></td>
        <td id="file-sample-chat-app-lsl-LC297" class="blob-code blob-code-inner js-file-line">                        <span class="pl-c1">llHTTPResponse</span>(<span class="pl-smi">id</span>, <span class="pl-c1">200</span>, <span class="pl-c1">llList2Json</span>(<span class="pl-c1">JSON_OBJECT</span>, [</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L298" class="blob-num js-line-number" data-line-number="298"></td>
        <td id="file-sample-chat-app-lsl-LC298" class="blob-code blob-code-inner js-file-line">                        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-c1">llGetDisplayName</span>(<span class="pl-c1">llGetOwner</span>()),</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L299" class="blob-num js-line-number" data-line-number="299"></td>
        <td id="file-sample-chat-app-lsl-LC299" class="blob-code blob-code-inner js-file-line">                        <span class="pl-s"><span class="pl-pds">"</span>timestamp<span class="pl-pds">"</span></span>,<span class="pl-en">ConvertWallclockToTime</span>(),</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L300" class="blob-num js-line-number" data-line-number="300"></td>
        <td id="file-sample-chat-app-lsl-LC300" class="blob-code blob-code-inner js-file-line">                        <span class="pl-s"><span class="pl-pds">"</span>body<span class="pl-pds">"</span></span>,<span class="pl-smi">var</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L301" class="blob-num js-line-number" data-line-number="301"></td>
        <td id="file-sample-chat-app-lsl-LC301" class="blob-code blob-code-inner js-file-line">                        ]));</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L302" class="blob-num js-line-number" data-line-number="302"></td>
        <td id="file-sample-chat-app-lsl-LC302" class="blob-code blob-code-inner js-file-line">                    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L303" class="blob-num js-line-number" data-line-number="303"></td>
        <td id="file-sample-chat-app-lsl-LC303" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L304" class="blob-num js-line-number" data-line-number="304"></td>
        <td id="file-sample-chat-app-lsl-LC304" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L305" class="blob-num js-line-number" data-line-number="305"></td>
        <td id="file-sample-chat-app-lsl-LC305" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L306" class="blob-num js-line-number" data-line-number="306"></td>
        <td id="file-sample-chat-app-lsl-LC306" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L307" class="blob-num js-line-number" data-line-number="307"></td>
        <td id="file-sample-chat-app-lsl-LC307" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L308" class="blob-num js-line-number" data-line-number="308"></td>
        <td id="file-sample-chat-app-lsl-LC308" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">listen</span>(<span class="pl-k">integer</span> <span class="pl-smi">channel</span>, <span class="pl-k">string</span> <span class="pl-smi">name</span>, <span class="pl-k">key</span> <span class="pl-smi">id</span>, <span class="pl-k">string</span> <span class="pl-smi">message</span>)</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L309" class="blob-num js-line-number" data-line-number="309"></td>
        <td id="file-sample-chat-app-lsl-LC309" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L310" class="blob-num js-line-number" data-line-number="310"></td>
        <td id="file-sample-chat-app-lsl-LC310" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(<span class="pl-smi">query_id</span> <span class="pl-k">!=</span> <span class="pl-c1">NULL_KEY</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L311" class="blob-num js-line-number" data-line-number="311"></td>
        <td id="file-sample-chat-app-lsl-LC311" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">llSetContentType</span>(<span class="pl-smi">query_id</span>, <span class="pl-c1">CONTENT_TYPE_JSON</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L312" class="blob-num js-line-number" data-line-number="312"></td>
        <td id="file-sample-chat-app-lsl-LC312" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span>(<span class="pl-smi">ch</span> <span class="pl-k">==</span> <span class="pl-c1">0</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L313" class="blob-num js-line-number" data-line-number="313"></td>
        <td id="file-sample-chat-app-lsl-LC313" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">name</span> <span class="pl-k">=</span> <span class="pl-c1">llGetDisplayName</span>(<span class="pl-smi">id</span>);</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L314" class="blob-num js-line-number" data-line-number="314"></td>
        <td id="file-sample-chat-app-lsl-LC314" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L315" class="blob-num js-line-number" data-line-number="315"></td>
        <td id="file-sample-chat-app-lsl-LC315" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L316" class="blob-num js-line-number" data-line-number="316"></td>
        <td id="file-sample-chat-app-lsl-LC316" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">name</span> <span class="pl-k">=</span> <span class="pl-c1">llGetDisplayName</span>(<span class="pl-c1">llGetOwnerKey</span>(<span class="pl-smi">id</span>));</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L317" class="blob-num js-line-number" data-line-number="317"></td>
        <td id="file-sample-chat-app-lsl-LC317" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L318" class="blob-num js-line-number" data-line-number="318"></td>
        <td id="file-sample-chat-app-lsl-LC318" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span>(<span class="pl-smi">name</span> <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L319" class="blob-num js-line-number" data-line-number="319"></td>
        <td id="file-sample-chat-app-lsl-LC319" class="blob-code blob-code-inner js-file-line">                <span class="pl-c"><span class="pl-c">//</span>保持しておいたHTTP requestのID向けにResponseする(*)</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L320" class="blob-num js-line-number" data-line-number="320"></td>
        <td id="file-sample-chat-app-lsl-LC320" class="blob-code blob-code-inner js-file-line">                <span class="pl-c1">llHTTPResponse</span>(<span class="pl-smi">query_id</span>, <span class="pl-c1">200</span>, <span class="pl-c1">llList2Json</span>(<span class="pl-c1">JSON_OBJECT</span>, [</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L321" class="blob-num js-line-number" data-line-number="321"></td>
        <td id="file-sample-chat-app-lsl-LC321" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-smi">name</span>,</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L322" class="blob-num js-line-number" data-line-number="322"></td>
        <td id="file-sample-chat-app-lsl-LC322" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">"</span>timestamp<span class="pl-pds">"</span></span>,<span class="pl-en">ConvertWallclockToTime</span>(),</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L323" class="blob-num js-line-number" data-line-number="323"></td>
        <td id="file-sample-chat-app-lsl-LC323" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">"</span>body<span class="pl-pds">"</span></span>,<span class="pl-smi">message</span></td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L324" class="blob-num js-line-number" data-line-number="324"></td>
        <td id="file-sample-chat-app-lsl-LC324" class="blob-code blob-code-inner js-file-line">                ]));</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L325" class="blob-num js-line-number" data-line-number="325"></td>
        <td id="file-sample-chat-app-lsl-LC325" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L326" class="blob-num js-line-number" data-line-number="326"></td>
        <td id="file-sample-chat-app-lsl-LC326" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L327" class="blob-num js-line-number" data-line-number="327"></td>
        <td id="file-sample-chat-app-lsl-LC327" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L328" class="blob-num js-line-number" data-line-number="328"></td>
        <td id="file-sample-chat-app-lsl-LC328" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L329" class="blob-num js-line-number" data-line-number="329"></td>
        <td id="file-sample-chat-app-lsl-LC329" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">run_time_permissions</span>(<span class="pl-k">integer</span> <span class="pl-smi">perm</span>)</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L330" class="blob-num js-line-number" data-line-number="330"></td>
        <td id="file-sample-chat-app-lsl-LC330" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L331" class="blob-num js-line-number" data-line-number="331"></td>
        <td id="file-sample-chat-app-lsl-LC331" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(<span class="pl-smi">perm</span> <span class="pl-k">&amp;</span> <span class="pl-c1">PERMISSION_ATTACH</span>){</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L332" class="blob-num js-line-number" data-line-number="332"></td>
        <td id="file-sample-chat-app-lsl-LC332" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">llDetachFromAvatar</span>( );</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L333" class="blob-num js-line-number" data-line-number="333"></td>
        <td id="file-sample-chat-app-lsl-LC333" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L334" class="blob-num js-line-number" data-line-number="334"></td>
        <td id="file-sample-chat-app-lsl-LC334" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-sample-chat-app-lsl-L335" class="blob-num js-line-number" data-line-number="335"></td>
        <td id="file-sample-chat-app-lsl-LC335" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/masterpoppy/88612afd78add9853e95fc94070a50ea/raw/4102fd8dd4bac817e9f140bad3f3c4e43eb9bfa0/%20Sample%20Chat%20App.lsl" style="float:right">view raw</a>
        <a href="https://gist.github.com/masterpoppy/88612afd78add9853e95fc94070a50ea#file-sample-chat-app-lsl"> Sample Chat App.lsl</a>
        hosted with ❤ by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<noscript>View the code on <a href="https://gist.github.com/masterpoppy/88612afd78add9853e95fc94070a50ea">Gist</a>.</noscript></div> <p>実行結果はこのようになります。 使用感はさきほどとほぼおなじです。 右上のLOGOUTをクリックするとdetachされます。<br> アプリ内のインプット枠でも、SLのチャットコマンドで「/100 発言内容」でもどちらでも発言することができます。(初期値)<br> チャンネルを0にすればローカルチャットを拾います。このHUDをつけていると同一SIM内のどこにいても会話することができます。</p> <p><a href="media-hud2/WS_0657.png"><img class="alignnone size-full wp-image-1205" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/WS_0657.png" alt="ws_0657" width="851" height="429" srcset="media-hud2/WS_0657.png 851w, media-hud2/WS_0657-512x258.png 512w, media-hud2/WS_0657-768x387.png 768w" sizes="(max-width: 851px) 100vw, 851px"></a></p> <hr> <p>LSLでは奇跡的にhttp_requestで受けたidを保持しておいて好きなタイミングのeventで使うだけという簡単な方法でなんちゃってcometを実装できます。 今回紹介したのはチャットアプリなのでResponseするタイミングはlistenイベントでしたが、touchやsensorなどほかのイベントでももちろん同様につかうことができます。<br> 最大25秒おきにずっとリクエストし続けることにはなりますが、LSL側からCEFに任意のタイミングでトリガーを送れることになります。<br> LSL-Web Appでは重要なテクニックになると思いますので、しくみをよく理解して活用してみてください。</p> <p>関連記事へのリンク</p> <p style="padding-left: 30px;">3日め: LSL-Web App…HTMLでHUDを開発する(3/3)<br> <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1007">http://masterpoppy.inspi.me/archives/1007</a><br> 1日め: LSL-Web App…HTMLでHUDを開発する(1/3)<br> <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1003">http://masterpoppy.inspi.me/archives/1003</a></p> <div class="clear"></div> </div> <div class="tags"> &nbsp; </div> </div> </div> <div class="clear"></div> </div> </div> <div id="pl_comments" class="copy fix"> <div class="copy-pad"> <div id="comments"> <div id="respond" class="comment-respond"> <h3 id="reply-title" class="comment-reply-title">コメントを残す <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005#respond" style="display:none;">コメントをキャンセル</a></small></h3> <form action="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/wp-comments-post.php" method="post" id="commentform" class="comment-form"> <p class="comment-notes"><span id="email-notes">メールアドレスが公開されることはありません。</span> <span class="required">*</span> が付いている欄は必須項目です</p><p class="comment-form-comment"><label for="comment">コメント</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">名前 <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required="true" required="required"></p> <p class="comment-form-email"><label for="email">メールアドレス <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required="true" required="required"></p> <p class="comment-form-url"><label for="url">ウェブサイト</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p> <p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="コメントを送信"> <input type="hidden" name="comment_post_ID" value="1005" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"> </p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="26"></p> </form> </div> </div> <div class="clear"></div> </div> </div> <div id="pagination" class="copy fix"> <div class="copy-pad"> <div class="clear"></div> </div> </div> <div id="sharebar" class="copy fix"> <div class="copy-pad"> <div class="post-footer"> <div class="left"> If you enjoyed this article, please consider sharing it! </div> <div class="right"> <a href="https://web.archive.org/web/20171014222456/http://reddit.com/submit?phase=2&amp;url=http://masterpoppy.inspi.me/archives/1005&amp;title=LSL-Web+App%26%238230%3BHTML%E3%81%A7HUD%E3%82%92%E9%96%8B%E7%99%BA%E3%81%99%E3%82%8B%282%2F3%29" title="Share on Reddit" rel="nofollow" target="_blank"><img src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/ico-reddit.png" alt="Reddit"></a> <a href="https://web.archive.org/web/20171014222456/http://www.facebook.com/sharer.php?u=http://masterpoppy.inspi.me/archives/1005&amp;t=LSL-Web+App%26%238230%3BHTML%E3%81%A7HUD%E3%82%92%E9%96%8B%E7%99%BA%E3%81%99%E3%82%8B%282%2F3%29" title="Share on Facebook" rel="nofollow" target="_blank"><img src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/ico-facebook.png" alt="Facebook"></a> <a href="https://web.archive.org/web/20171014222456/http://twitter.com/?status=LSL-Web%20App%E2%80%A6HTML%E3%81%A7HUD%E3%82%92%E9%96%8B%E7%99%BA%E3%81%99%E3%82%8B(2/3)%20-%20http://masterpoppy.inspi.me/archives/1005" title="Share on Twitter" rel="nofollow" target="_blank"><img src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/ico-twitter.png" alt="Twitter"></a> <a href="https://web.archive.org/web/20171014222456/http://del.icio.us/post?url=http://masterpoppy.inspi.me/archives/1005&amp;title=LSL-Web+App%26%238230%3BHTML%E3%81%A7HUD%E3%82%92%E9%96%8B%E7%99%BA%E3%81%99%E3%82%8B%282%2F3%29" title="Share on Delicious" rel="nofollow" target="_blank"><img src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/ico-del.png" alt="Delicious"></a> </div> <div class="clear"></div> </div> <div class="clear"></div> </div> </div> </div> </div> </div> <div id="sidebar-wrap" class="fix"> <div id="sidebar1" class="scolumn fix"> <div class="scolumn-pad"> <div id="sidebar_primary" class="copy fix"> <div class="copy-pad"> <ul id="list_sidebar_primary" class="sidebar_widgets fix"> <li id="recent-posts-2" class="widget_recent_entries widget fix"><div class="widget-pad"> <h3 class="widget-title">最近の投稿</h3> <ul> <li> <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1007">LSL-Web App…HTMLでHUDを開発する(3/3) lsl-markdownの紹介</a> </li> <li> <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005">LSL-Web App…HTMLでHUDを開発する(2/3)</a> </li> <li> <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1003">LSL-Web App…HTMLでHUDを開発する(1/3)</a> </li> <li> <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/968">中級LSLスクリプト TIPS その３ “極シンプルなSkybox向けセキュリティ”</a> </li> <li> <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/841">中級LSLスクリプト TIPS その２ “LSLのコーディングにテキストエディタATOMを使う”</a> </li> </ul> </div></li> <li id="recent-comments-2" class="widget_recent_comments widget fix"><div class="widget-pad"><h3 class="widget-title">最近のコメント</h3><ul id="recentcomments"><li class="recentcomments"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1003#comment-17387">LSL-Web App…HTMLでHUDを開発する(1/3)</a> に <span class="comment-author-link"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005" rel="external nofollow" class="url">LSL-Web App...HTMLでHUDを開発する(2/3) | Mad Scripter's Lab @ inspi</a></span> より</li><li class="recentcomments"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/589#comment-116">Metasequoiaで始めるMesh入門</a> に <span class="comment-author-link">りら</span> より</li></ul></div></li><li id="archives-2" class="widget_archive widget fix"><div class="widget-pad"><h3 class="widget-title">アーカイブ</h3> <ul> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2016/12">2016年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2015/12">2015年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2013/12">2013年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2012/12">2012年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2012/02">2012年2月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2011/09">2011年9月</a></li> </ul> </div></li><li id="calendar-3" class="widget_calendar widget fix"><div class="widget-pad"><h3 class="widget-title">カレンダー</h3><div id="calendar_wrap" class="calendar_wrap"><table id="wp-calendar"> <caption>2017年10月</caption> <thead> <tr> <th scope="col" title="日曜日">日</th> <th scope="col" title="月曜日">月</th> <th scope="col" title="火曜日">火</th> <th scope="col" title="水曜日">水</th> <th scope="col" title="木曜日">木</th> <th scope="col" title="金曜日">金</th> <th scope="col" title="土曜日">土</th> </tr> </thead> <tfoot> <tr> <td colspan="3" id="prev"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2016/12">« 12月</a></td> <td class="pad">&nbsp;</td> <td colspan="3" id="next" class="pad">&nbsp;</td> </tr> </tfoot> <tbody> <tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td> </tr> <tr> <td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td> </tr> <tr> <td id="today">15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td><td>21</td> </tr> <tr> <td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td> </tr> <tr> <td>29</td><td>30</td><td>31</td> <td class="pad" colspan="4">&nbsp;</td> </tr> </tbody> </table></div></div></li><li id="categories-2" class="widget_categories widget fix"><div class="widget-pad"><h3 class="widget-title">カテゴリー</h3> <ul> <li class="cat-item cat-item-16"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/category/sl/lsl" title="LSLスクリプトに関するPost">LSL</a> </li> <li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/category/sl" title="SeconLifeに関するPost">SecondLife</a> </li> <li class="cat-item cat-item-13"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/category/sl/v3tips" title="Viewer3に関するヒント集">Viewer3 Tips</a> </li> <li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/category/%e6%9c%aa%e5%88%86%e9%a1%9e">未分類</a> </li> </ul> </div></li><li id="meta-2" class="widget_meta widget fix"><div class="widget-pad"><h3 class="widget-title">Meta</h3> <ul> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/wp-login.php">ログイン</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/feed" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/comments/feed" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li> <li><a href="https://web.archive.org/web/20171014222456/http://inspi.me/" title="Powered by INSPI PLAT FORM">INSPI PLAT FORM</a></li> </ul> </div></li> </ul> <div class="clear"></div> </div> </div> </div> </div> </div> </div> <div class="clear"></div> </div> </div> </div> </div> </div> <div id="morefoot_area"><div id="morefoot" class="container fix"> <div class="texture"> <div class="content"> <div class="content-pad"> <div class="morefoot_back fix"> <div id="morefootbg" class=" fix"> <div class="dcol_container_3"> <div class="dcol_3 dcol wcontain fix"> <div class="dcol-pad"> <div class="widget"> <h3 class="widget-title">Looking for something?</h3> <p>Use the form below to search the site:</p> <form method="get" class="searchform" action="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/" onsubmit="this.submit();return false;"> <fieldset> <input type="text" value="Search" name="s" class="searchfield" onfocus="if (this.value == &#39;Search&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Search&#39;;}"> <input type="image" class="submit btn" name="submit" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/search-btn.png" alt="Go"> </fieldset> </form> <br class="clear"> <p>Still not finding what you're looking for? Drop a comment on a post or contact us so we can take care of it!</p> </div> </div> </div> <div class="dcol_3 dcol wcontain"> <div class="dcol-pad"> <div class="widget"> <h3 class="widget-title">Visit our friends!</h3><p>A few highly recommended friends...</p><ul><li><a href="https://web.archive.org/web/20171014222456/http://codex.wordpress.org/">Documentation</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://wordpress.org/extend/plugins/">Plugins</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://wordpress.org/extend/ideas/">Suggest Ideas</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://wordpress.org/support/">Support Forum</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://wordpress.org/extend/themes/">Themes</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://wordpress.org/news/">WordPress Blog</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://planet.wordpress.org/">WordPress Planet</a></li> </ul> </div> </div> </div> <div class="dcol_3 lastcol dcol wcontain"> <div class="dcol-pad"> <div class="widget"> <h3 class="widget-title">Archives</h3><p>All entries, chronologically...</p><ul> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2016/12">2016年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2015/12">2015年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2013/12">2013年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2012/12">2012年12月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2012/02">2012年2月</a></li> <li><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/date/2011/09">2011年9月</a></li> </ul> </div> </div> </div> </div> </div> </div> <div class="clear"></div> </div> </div> </div> </div> <div id="twitterbar" class="container fix"> <div class="texture"> <div class="content"> <div class="content-pad"> <div class="tbubble"><span class="twitter">"Error 403: Your IP is being rate limited by Twitter.—&nbsp;<a class="twitteraccount" href="https://web.archive.org/web/20171014222456/http://twitter.com/#!/masterpoppy">masterpoppy</a></span></div> <div class="clear"></div> </div> </div> </div> </div> </div> <div class="clear"></div> </div> </div> </div> <div id="footer"> <div class="outline fix"><div id="footcols" class="container fix"> <div class="texture"> <div class="content"> <div class="content-pad"> <div id="fcolumns_container" class="dcol_container_5 fix"> <div class="dcol_5 dcol"> <div class="dcol-pad"> <a class="home" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/" title="Home"> <img src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/logo-platformpro-small.png" alt="Mad Scripter&#39;s Lab @ inspi"> </a> </div> </div> <div class="dcol_5 dcol"> <div class="dcol-pad"> <h3 class="widget-title">Pages</h3> <div class="footer-links list-links"><ul> <li class="page_item page-item-577"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/kokuban">MessageBoard For Japanese</a></li> <li class="page_item page-item-131"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/viewer3%e5%85%a5%e9%96%80">Viewer3入門</a></li> <li class="page_item page-item-6 page_item_has_children"><a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/about">筆者について</a></li> </ul></div> </div> </div> <div class="dcol_5 dcol"> <div class="dcol-pad"> <h3 class="widget-title">The Latest</h3> <ul class="latest_posts"> <li class="list-item fix"> <div class="list_item_text"> <h5><a class="list_text_link" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1007"><span class="list-title">LSL-Web App...HTMLでHUDを開発する(3/3) lsl-markdownの紹介</span></a></h5> <div class="list-excerpt"> このエントリーはセカンドライフ技術系 Advent Calendar 2016の参加記事です。 http://www.adventar.org/calendars/1673 HTMLでHUDをつくる講座 ３日め。 今回は前回までに紹介したテクニックを集約してつくったアプリの紹介をします。 lsl-markdown lsl-markdownの完成品はMarcketPlaceで配布しています。&nbsp;[…]</div> </div> </li> </ul> </div> </div> <div class="dcol_5 dcol"> <div class="dcol-pad"> <h3 class="widget-title">More</h3> <div class="findent footer-more"> Thanks for dropping by! Feel free to join the discussion by leaving comments, and stay updated by subscribing to the <a href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.mobi/feed">RSS feed</a>. </div> </div> </div> <div class="dcol_5 dcol"> <div class="dcol-pad"> <div class="findent terms"> © 2011 Mad Scripter's Lab @ inspi </div> </div> </div> </div> <div class="clear"></div> <div class="clear"></div> </div> </div> </div> </div> </div> </div> </div> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/superfish.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/jquery.bgiframe.min.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/form.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shCore.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushAS3.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushBash.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushColdFusion.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushClojure.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushCpp.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushCSharp.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushCss.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushDelphi.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushDiff.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushErlang.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushFSharp.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushGroovy.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushJava.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushJavaFX.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushJScript.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushLatex.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushMatlabKey.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushObjC.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushPerl.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushPhp.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushPlain.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushPowerShell.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushPython.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushR.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushRuby.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushScala.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushSql.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushVb.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushXml.js"></script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/shBrushLsl.js"></script> <script type="text/javascript">/*<![CDATA[*/(function(){var corecss=document.createElement('link');var themecss=document.createElement('link');var corecssurl="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";if(corecss.setAttribute){corecss.setAttribute("rel","stylesheet");corecss.setAttribute("type","text/css");corecss.setAttribute("href",corecssurl);}else{corecss.rel="stylesheet";corecss.href=corecssurl;}
document.getElementsByTagName("head")[0].insertBefore(corecss,document.getElementById("syntaxhighlighteranchor"));var themecssurl="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";if(themecss.setAttribute){themecss.setAttribute("rel","stylesheet");themecss.setAttribute("type","text/css");themecss.setAttribute("href",themecssurl);}else{themecss.rel="stylesheet";themecss.href=themecssurl;}
document.getElementsByTagName("head")[0].insertBefore(themecss,document.getElementById("syntaxhighlighteranchor"));})();SyntaxHighlighter.config.strings.expandSource='ソースを表示';SyntaxHighlighter.config.strings.help='SyntaxHighlighterについて';SyntaxHighlighter.config.strings.alert='SyntaxHighlighter\n\n';SyntaxHighlighter.config.strings.noBrush='指定のブラシが見つかりませんでした: ';SyntaxHighlighter.config.strings.brushNotHtmlScript='HTMLスクリプトのオプションのためにブラシが構成されませんでした: ';SyntaxHighlighter.defaults['pad-line-numbers']=false;SyntaxHighlighter.all();/*]]>*/</script> <script type="text/javascript" src="./LSL-Web App...HTMLでHUDを開発する(2_3) _ Mad Scripter&#39;s Lab @ inspi_files/f4b8576cffaf1a3a35e845daf5984953-compressor-part.js"></script> <div id="ub_admin_bar_wrap"> <div id="wpadminbar" class="nojq nojs"> <a class="screen-reader-shortcut" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/archives/1005#wp-toolbar" tabindex="1">ツールバーへスキップ</a> <div class="quicklinks" id="wp-toolbar" role="navigation" aria-label="ツールバー" tabindex="0"> <ul id="wp-admin-bar-root-default" class="ab-top-menu"> <li id="wp-admin-bar-bp-login"><a class="ab-item" href="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/wp-login.php?redirect_to=http%3A%2F%2Fmasterpoppy.inspi.me%2Farchives%2F1005">ログイン</a> </li></ul><ul id="wp-admin-bar-top-secondary" class="ab-top-secondary ab-top-menu"> <li id="wp-admin-bar-search" class="admin-bar-search"><div class="ab-item ab-empty-item" tabindex="-1"><form action="https://web.archive.org/web/20171014222456/http://masterpoppy.inspi.me/" method="get" id="adminbarsearch"><input class="adminbar-input" name="s" id="adminbar-search" type="text" value="" maxlength="150"><label for="adminbar-search" class="screen-reader-text">検索</label><input type="submit" class="adminbar-button" value="検索"></form></div> </li></ul> </div> </div> </div>

<!-- Comet Cache HTML Compressor took 2.19637 seconds (overall). -->

<!-- *´¨)
     ¸.•´¸.•*´¨) ¸.•*¨)
     (¸.•´ (¸.•` ¤ Comet Cache Notes ¤ ´¨) -->

<!-- Cache File Version Salt:       n/a -->

<!-- Cache File URL:                http://masterpoppy.inspi.me/archives/1005 -->
<!-- Cache File Path:               /cache/zencache/cache/http/masterpoppy-inspi-me/archives/1005.html -->

<!-- Cache File Generated Via:      HTTP request -->
<!-- Cache File Generated On:       Oct 14th, 2017 @ 10:09 pm UTC -->
<!-- Cache File Generated In:       4.17937 seconds -->

<!-- Cache File Expires On:         Oct 16th, 2017 @ 10:10 pm UTC -->
<!-- Cache File Auto-Rebuild On:    Oct 16th, 2017 @ 10:10 pm UTC -->

<!-- *´¨)
     ¸.•´¸.•*´¨) ¸.•*¨)
     (¸.•´ (¸.•` ¤ Comet Cache is Fully Functional ¤ ´¨) -->

<!-- Loaded via Cache On:    Oct 14th, 2017 @ 10:24 pm UTC -->
<!-- Loaded via Cache In:    0.01097 seconds --><!--
     FILE ARCHIVED ON 22:24:56 Oct 14, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 14:00:20 Nov 19, 2019.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  RedisCDXSource: 41.201
  captures_list: 447.243
  CDXLines.iter: 17.405 (3)
  exclusion.robots.policy: 0.173
  PetaboxLoader3.datanode: 77.634 (4)
  LoadShardBlock: 385.094 (3)
  PetaboxLoader3.resolve: 474.403 (2)
  esindex: 0.009
  exclusion.robots: 0.184
  load_resource: 195.203
--></body></html>
